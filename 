[1mdiff --git a/biome.json b/biome.json[m
[1mdeleted file mode 100644[m
[1mindex 911e988..0000000[m
[1m--- a/biome.json[m
[1m+++ /dev/null[m
[36m@@ -1,26 +0,0 @@[m
[31m-{[m
[31m-    "$schema": "https://biomejs.dev/schemas/1.5.3/schema.json",[m
[31m-    "organizeImports": {[m
[31m-        "enabled": true[m
[31m-    },[m
[31m-    "formatter": {[m
[31m-        "enabled": true,[m
[31m-        "formatWithErrors": true,[m
[31m-        "indentStyle": "space",[m
[31m-        "indentWidth": 4,[m
[31m-        "lineWidth": 100,[m
[31m-        "ignore": ["**/node_modules/**", "**/dist/**"][m
[31m-    },[m
[31m-    "linter": {[m
[31m-        "enabled": true,[m
[31m-        "rules": {[m
[31m-            "recommended": true,[m
[31m-            "style": {[m
[31m-                "noNonNullAssertion": "off"[m
[31m-            },[m
[31m-            "complexity": {[m
[31m-                "noUselessSwitchCase": "off"[m
[31m-            }[m
[31m-        }[m
[31m-    }[m
[31m-}[m
[1mdiff --git a/cypress.config.ts b/cypress.config.ts[m
[1mindex 1a6c85c..bfbed39 100644[m
[1m--- a/cypress.config.ts[m
[1m+++ b/cypress.config.ts[m
[36m@@ -1,12 +1,11 @@[m
[31m-import { defineConfig } from "cypress";[m
[31m-[m
[31m-export default defineConfig({[m
[31m-    component: {[m
[31m-        devServer: {[m
[31m-            // biome-ignore lint/suspicious/noExplicitAny: <explanation>[m
[31m-            framework: "cypress-ct-html" as any,[m
[31m-            bundler: "vite",[m
[31m-            viteConfig: {},[m
[31m-        },[m
[31m-    },[m
[31m-});[m
[32m+[m[32mimport { defineConfig } from 'cypress';[m[41m[m
[32m+[m[41m[m
[32m+[m[32mexport default defineConfig({[m[41m[m
[32m+[m[32m  component: {[m[41m[m
[32m+[m[32m    devServer: {[m[41m[m
[32m+[m[32m      framework: 'cypress-ct-html' as any,[m[41m[m
[32m+[m[32m      bundler: 'vite',[m[41m[m
[32m+[m[32m      viteConfig: {},[m[41m[m
[32m+[m[32m    },[m[41m[m
[32m+[m[32m  },[m[41m[m
[32m+[m[32m});[m[41m[m
[1mdiff --git a/docs/index.html b/docs/index.html[m
[1mindex deb30f7..37dcdef 100644[m
[1m--- a/docs/index.html[m
[1m+++ b/docs/index.html[m
[36m@@ -1,834 +1,1331 @@[m
[31m-<!DOCTYPE html>[m
[31m-<html lang="en">[m
[31m-    <head>[m
[31m-        <meta charset="UTF-8" />[m
[31m-        <meta name="viewport" content="width=device-width, initial-scale=1.0" />[m
[31m-        <meta name="description" content="An adaptable framework for building accessible comboboxes. Built as a web component">[m
[31m-        [m
[31m-        <title>Combobox Framework</title>[m
[31m-        [m
[31m-        <link rel="stylesheet" href="./styles/style.css" />[m
[31m-[m
[31m-        <!-- fonts -->[m
[31m-        <link rel="preconnect" href="https://fonts.googleapis.com">[m
[31m-        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>[m
[31m-        <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">[m
[31m-        <!-- end -->[m
[31m-[m
[31m-        <!-- highlightjs -->[m
[31m-        <link rel="preconnect" href="https://cdnjs.cloudflare.com">[m
[31m-        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.css">[m
[31m-        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>[m
[31m-        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/xml.min.js"></script>[m
[31m-        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/css.min.js"></script>[m
[31m-        <!-- end -->[m
[31m-    </head>[m
[31m-    <body>[m
[31m-        <article>[m
[31m-            <header>[m
[31m-                <h1>Combobox framework documentation</h1>[m
[31m-[m
[31m-                <nav>[m
[31m-                    <a href="#installation">Installation</a>[m
[31m-                    <a href="#examples">Examples</a>[m
[31m-                    <a href="#styling">Styling</a>[m
[31m-[m
[31m-                    <a href="https://github.com/klovaaxel/combobox-framework">GitHub</a>[m
[31m-                    <a href="https://www.npmjs.com/package/combobox-framework">NPM</a>[m
[31m-                    <a href="https://www.webcomponents.org/element/combobox-framework">WebComponents</a>[m
[31m-                </nav>[m
[31m-[m
[31m-                <p>[m
[31m-                    An adaptable framework for building accessible comboboxes. Built as a web component, it can be used[m
[31m-                    in any framework or vanilla HTML/CSS/JS.[m
[31m-                </p>[m
[31m-[m
[31m-                <section class="features">[m
[31m-                    <h2>Key features</h2>[m
[31m-[m
[31m-                    <ul>[m
[31m-                        <li class="accessible">[m
[31m-                            Accessible! Built to follow the WAI-ARIA combobox design pattern. Built for keyboard[m
[31m-                            navigation, screen readers, and other assistive technologies.[m
[31m-                        </li>[m
[31m-                        <li class="styling">[m
[31m-                            Easy to style! Bind your own elements to the framework slots, and style them however you[m
[31m-                            want. Easy to integrate into any design system.[m
[31m-                        </li>[m
[31m-                    </ul>[m
[31m-                </section>[m
[31m-[m
[31m-                <p>What follows are examples of how to use/implement the combobox-framework component</p>[m
[31m-            </header>[m
[31m-[m
[31m-            <section>[m
[31m-                <h2 id="installation">Installation</h2>[m
[31m-[m
[31m-                <section>[m
[31m-                    <h3>Link in from CDN</h3>[m
[31m-                    <pre><code>&lt;script type="module" src="https://unpkg.com/combobox-framework"&gt;&lt;/script&gt;</code></pre>[m
[31m-                </section>[m
[31m-[m
[31m-                <section>[m
[31m-                    <h3>Install from npm</h3>[m
[31m-                    <p>Install the combobox-framework from npm</p>[m
[31m-                    <pre><code>npm install combobox-framework</code></pre>[m
[31m-[m
[31m-                    <p>Import the combobox-framework into your project</p>[m
[31m-                    <pre><code>import 'combobox-framework';</code></pre>[m
[31m-                </section>[m
[31m-            </section>[m
[31m-[m
[31m-            <section>[m
[31m-                <h2>Demo</h2>[m
[31m-[m
[31m-                <p>[m
[31m-                    A "real world" example of how the combobox-framework can be used.[m
[31m-                    Meant to show how the search functionality can be used with a larger dataset (91 options).[m
[31m-                </p>[m
[31m-[m
[31m-                <p>[m
[31m-                    The example is a combobox-framework with a input and a table of cast members from the movie The[m
[31m-                    Shawshank Redemption. The input is used to search for a cast member, and the table is used to show[m
[31m-                    the cast members.[m
[31m-                </p>[m
[31m-[m
[31m-                <p>[m
[31m-                    <em>Note:</em> The focus of this demo is not on the styling, but on the functionality of the combobox-framework.[m
[31m-                </p>[m
[31m-[m
[31m-                <label style="display: block;" for="demo-input">Select a cast member:</label>[m
[31m-                <combobox-framework data-limit="20" data-fuse-options='{ "includeScore": true, "keys": ["dataset.search"]}'>[m
[31m-                    <input id="demo-input" placeholder="Click me" type="text" slot="input" size="50" />[m
[31m-                    <table anchor="demo-input" slot="list">[m
[31m-                        <thead>[m
[31m-                            <tr>[m
[31m-                                <th>Name</th>[m
[31m-                                <th>Role</th>[m
[31m-                            </tr>[m
[31m-                        </thead>[m
[31m-[m
[31m-                        <tbody data-list>[m
[31m-                            <tr data-value="1" data-display="Tim Robbins" data-search="Tim Robbins Andy Dufresne">[m
[31m-                                <td>Tim Robbins</td>[m
[31m-                                <td>Andy Dufresne</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="2" data-display="Morgan Freeman" data-search='Morgan Freeman Ellis Boyd "Red" Redding'>[m
[31m-                                <td>Morgan Freeman</td>[m
[31m-                                <td>Ellis Boyd "Red" Redding</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="3" data-display="Bob Gunton" data-search="Bob Gunton Warden Samuel Norton">[m
[31m-                                <td>Bob Gunton</td>[m
[31m-                                <td>Warden Samuel Norton</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="4" data-display="William Sadler" data-search="William Sadler Heywood">[m
[31m-                                <td>William Sadler</td>[m
[31m-                                <td>Heywood</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="5" data-display="Clancy Brown" data-search="Clancy Brown Byron Hadley">[m
[31m-                                <td>Clancy Brown</td>[m
[31m-                                <td>Byron Hadley</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="6" data-display="Gil Bellows" data-search="Gil Bellows Tommy Williams">[m
[31m-                                <td>Gil Bellows</td>[m
[31m-                                <td>Tommy Williams</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="7" data-display="James Whitmore" data-search="James Whitmore Brooks Hatlen">[m
[31m-                                <td>James Whitmore</td>[m
[31m-                                <td>Brooks Hatlen</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="8" data-display="Mark Rolston" data-search="Mark Rolston Bogs Diamond">[m
[31m-                                <td>Mark Rolston</td>[m
[31m-                                <td>Bogs Diamond</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="9" data-display="Jeffrey DeMunn" data-search="Jeffrey DeMunn 1946 D.A.">[m
[31m-                                <td>Jeffrey DeMunn</td>[m
[31m-                                <td>1946 D.A.</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="10" data-display="Larry Brandenburg" data-search="Larry Brandenburg Skeet">[m
[31m-                                <td>Larry Brandenburg</td>[m
[31m-                                <td>Skeet</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="11" data-display="Neil Giuntoli" data-search="Neil Giunt Jigger">[m
[31m-                                <td>Neil Giuntoli</td>[m
[31m-                                <td>Jigger</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="12" data-display="Brian Libby" data-search="Brian Libby Floyd">[m
[31m-                                <td>Brian Libby</td>[m
[31m-                                <td>Floyd</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="13" data-display="David Proval" data-search="David Proval Snooze">[m
[31m-                                <td>David Proval</td>[m
[31m-                                <td>Snooze</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="14" data-display="Joseph Ragno" data-search="Joseph Ragno Ernie">[m
[31m-                                <td>Joseph Ragno</td>[m
[31m-                                <td>Ernie</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="15" data-display="Jude Ciccolella" data-search="Jude Ciccolella Guard Mert">[m
[31m-                                <td>Jude Ciccolella</td>[m
[31m-                                <td>Guard Mert</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="16" data-display="Paul McCrane" data-search="Paul McCrane Guard Trout">[m
[31m-                                <td>Paul McCrane</td>[m
[31m-                                <td>Guard Trout</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="17" data-display="Renee Blaine" data-search="Renee Blaine Linda Dufresne (Andy Dufresne's Wife)">[m
[31m-                                <td>Renee Blaine</td>[m
[31m-                                <td>Linda Dufresne (Andy Dufresne's Wife)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="18" data-display="Scott Mann" data-search="Scott Mann Glenn Quentin">[m
[31m-                                <td>Scott Mann</td>[m
[31m-                                <td>Glenn Quentin</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="19" data-display="John Horton" data-search="John Horton Lloyd Henreid (Judge)">[m
[31m-                                <td>John Horton</td>[m
[31m-                                <td>Lloyd Henreid (Judge)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="20" data-display="Gordon Greene" data-search="Gordon Greene 1947 Parole Hearings Man">[m
[31m-                                <td>Gordon Greene</td>[m
[31m-                                <td>1947 Parole Hearings Man</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="21" data-display="Alfonso Freeman" data-search="Alfonso Freeman Fresh Fish Con">[m
[31m-                                <td>Alfonso Freeman</td>[m
[31m-                                <td>Fresh Fish Con</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="22" data-display="V.J. Foster" data-search="V.J. Foster Hungry Fish Con (as V.J. Foster)">[m
[31m-                                <td>V.J. Foster</td>[m
[31m-                                <td>Hungry Fish Con (as V.J. Foster)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="23" data-display="John E. Summers" data-search="John E. Summers New Fish Guard">[m
[31m-                                <td>John E. Summers</td>[m
[31m-                                <td>New Fish Guard</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="24" data-display="Frank Medrano" data-search="Frank Medr Fat Ass">[m
[31m-                                <td>Frank Medrano</td>[m
[31m-                                <td>Fat Ass</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="25" data-display="Mack Miles" data-search="Mack Miles Tyrell">[m
[31m-                                <td>Mack Miles</td>[m
[31m-                                <td>Tyrell</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="26" data-display="Alan R. Kessler" data-search="Alan R. Kessler Laundry Bob">[m
[31m-                                <td>Alan R. Kessler</td>[m
[31m-                                <td>Laundry Bob</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="27" data-display="Morgan Lund" data-search="Morgan Lund Laundry Truck Driver">[m
[31m-                                <td>Morgan Lund</td>[m
[31m-                                <td>Laundry Truck Driver</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="28" data-display="Cornell Wallace" data-search="Cornell Wallace Laundry Leonard">[m
[31m-                                <td>Cornell Wallace</td>[m
[31m-                                <td>Laundry Leonard</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="29" data-display="Gary Lee Davis" data-search="Gary Lee Davis Rooster">[m
[31m-                                <td>Gary Lee Davis</td>[m
[31m-                                <td>Rooster</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="30" data-display="Neil Summers" data-search="Neil Summers Pete">[m
[31m-                                <td>Neil Summers</td>[m
[31m-                                <td>Pete</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="31" data-display="Ned Bellamy" data-search="Ned Bellamy Guard Youngblood">[m
[31m-                                <td>Ned Bellamy</td>[m
[31m-                                <td>Guard Youngblood</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="32" data-display="Joe Pecoraro" data-search="Joe Pecoraro Projectionist">[m
[31m-                                <td>Joe Pecoraro</td>[m
[31m-                                <td>Projectionist</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="33" data-display="Harold E. Cope Jr." data-search="Harold E. Cope Jr. Hole Guard">[m
[31m-                                <td>Harold E. Cope Jr.</td>[m
[31m-                                <td>Hole Guard</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="34" data-display="Brian Delate" data-search="Brian Delate Guard Dekins">[m
[31m-                                <td>Brian Delate</td>[m
[31m-                                <td>Guard Dekins</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="35" data-display="Don McManus" data-search="Don McManus Guard Wiley">[m
[31m-                                <td>Don McManus</td>[m
[31m-                                <td>Guard Wiley</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="36" data-display="Dorothy Silver" data-search="Dorothy Silver Landlady">[m
[31m-                                <td>Dorothy Silver</td>[m
[31m-                                <td>Landlady</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="37" data-display="Donald Zinn" data-search="Donald Zinn Moresby Batter">[m
[31m-                                <td>Donald Zinn</td>[m
[31m-                                <td>Moresby Batter</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="38" data-display="Robert Haley" data-search="Robert Haley 1954 Food-Way Manager">[m
[31m-                                <td>Robert Haley</td>[m
[31m-                                <td>1954 Food-Way Manager</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="39" data-display="Dana Snyder" data-search="Dana Snyder 1954 Food-Way Proprietor">[m
[31m-                                <td>Dana Snyder</td>[m
[31m-                                <td>1954 Food-Way Proprietor</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="40" data-display="John D. Craig" data-search="John D. Craig 1954 Food-Way Customer">[m
[31m-                                <td>John D. Craig</td>[m
[31m-                                <td>1954 Food-Way Customer</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="41" data-display="Ken Magee" data-search="Ken Magee Ned Grimes">[m
[31m-                                <td>Ken Magee</td>[m
[31m-                                <td>Ned Grimes</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="42" data-display="Eugene C. DePasquale" data-search="Eugene C. DePasquale Mail Caller">[m
[31m-                                <td>Eugene C. DePasquale</td>[m
[31m-                                <td>Mail Caller</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="43" data-display="Bill Bolender" data-search="Bill Bolender Elmo Blatch">[m
[31m-                                <td>Bill Bolender</td>[m
[31m-                                <td>Elmo Blatch</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="44" data-display="Ron Newell" data-search="Ron Newell Elderly Hole Guard">[m
[31m-                                <td>Ron Newell</td>[m
[31m-                                <td>Elderly Hole Guard</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="45" data-display="John R. Woodward" data-search="John R. Woodward Bullhorn Tower Guard">[m
[31m-                                <td>John R. Woodward</td>[m
[31m-                                <td>Bullhorn Tower Guard</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="46" data-display="Chuck Brauchler" data-search="Chuck Brauchler Man Missing Guard">[m
[31m-                                <td>Chuck Brauchler</td>[m
[31m-                                <td>Man Missing Guard</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="47" data-display="Dion Anderson" data-search="Dion Anderson Head Bull Haig">[m
[31m-                                <td>Dion Anderson</td>[m
[31m-                                <td>Head Bull Haig</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="48" data-display="Claire Slemmer" data-search="Claire Slemmer Bank Teller">[m
[31m-                                <td>Claire Slemmer</td>[m
[31m-                                <td>Bank Teller</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="49" data-display="James Kisicki" data-search="James Kisicki Bank Manager">[m
[31m-                                <td>James Kisicki</td>[m
[31m-                                <td>Bank Manager</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="50" data-display="Rohn Thomas" data-search="Rohn Thomas Bugle Editor">[m
[31m-                                <td>Rohn Thomas</td>[m
[31m-                                <td>Bugle Editor</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="51" data-display="Charlie Kearns" data-search="Charlie Kearns 1966 D.A">[m
[31m-                                <td>Charlie Kearns</td>[m
[31m-                                <td>1966 D.A</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="52" data-display="Rob Reider" data-search="Rob Reider Duty Guard">[m
[31m-                                <td>Rob Reider</td>[m
[31m-                                <td>Duty Guard</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="53" data-display="Brian Brophy" data-search="Brian Brophy 1967 Parole Hearings Man">[m
[31m-                                <td>Brian Brophy</td>[m
[31m-                                <td>1967 Parole Hearings Man</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="54" data-display="Paul Kennedy" data-search="Paul Kennedy 1967 Food-Way Manager">[m
[31m-                                <td>Paul Kennedy</td>[m
[31m-                                <td>1967 Food-Way Manager</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="55" data-display="Dennis Baker" data-search="Dennis Baker Old Man on Bus (uncredited)">[m
[31m-                                <td>John D. Craig</td>[m
[31m-                                <td>Old Man on Bus (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="56" data-display="Fred Culbertson" data-search="Fred Culbertson Police Officer (uncredited)">[m
[31m-                                <td>Fred Culbertson</td>[m
[31m-                                <td>Police Officer (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="57" data-display="Richard Doone" data-search="Richard Doone Con (uncredited)">[m
[31m-                                <td>Richard Doone</td>[m
[31m-                                <td>Con (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="58" data-display="Samantha Goldberg" data-search="Samantha Goldberg Bank Employee (uncredited)">[m
[31m-                                <td>Samantha Goldberg</td>[m
[31m-                                <td>Bank Employee (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="59" data-display="Shane Grove" data-search="Shane Grove Inmate (uncredited)">[m
[31m-                                <td>Shane Grove</td>[m
[31m-                                <td>Inmate (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="60" data-display="Rita Hayworth" data-search="Rita Hayworth Gilda Mundson Farrell (archive footage) (uncredited)">[m
[31m-                                <td>Rita Hayworth</td>[m
[31m-                                <td>Gilda Mundson Farrell (archive footage) (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="61" data-display="David Hecht" data-search="David Hecht Bank Teller">[m
[31m-                                <td>Bill McKinney</td>[m
[31m-                                <td>Bank Teller</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="62" data-display="Alonzo F. Jones" data-search="Alonzo F. Jones Inmate (uncredited)">[m
[31m-                                <td>Alonzo F. Jones</td>[m
[31m-                                <td>Inmate (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="63" data-display="Gary Jones" data-search="Gary Jones Convict (uncredited)">[m
[31m-                                <td>Gary Jones</td>[m
[31m-                                <td>Convict (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="64" data-display="Sergio Kato" data-search="Sergio Kato Inmate II (uncredited)">[m
[31m-                                <td>Sergio Kato</td>[m
[31m-                                <td>Inmate II (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="65" data-display="Michael Lightsey" data-search="Michael Lightsey Con (uncredited)">[m
[31m-                                <td>Michael Lightsey</td>[m
[31m-                                <td>Con (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="66" data-display="Tracy Love" data-search="Tracy Love Court Spectator (uncredited)">[m
[31m-                                <td>Tracy Love</td>[m
[31m-                                <td>Court Spectator (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="67" data-display="George Macready" data-search="George Macready Ballin Mundson (archive footage) (uncredited)">[m
[31m-                                <td>George Macready</td>[m
[31m-                                <td>Ballin Mundson (archive footage) (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="68" data-display="Christopher Page" data-search="Christopher Page Traffic (driver) (uncredited)">[m
[31m-                                <td>Christopher Page</td>[m
[31m-                                <td>Traffic (driver) (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="69" data-display="Neil Riddaway" data-search="Neil Riddaway Con (uncredited)">[m
[31m-                                <td>Neil Riddaway</td>[m
[31m-                                <td>Con (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="70" data-display="Brad Spencer" data-search="Brad Spencer 1957 Parole Hearings Guard (uncredited)">[m
[31m-                                <td>Brad Spencer</td>[m
[31m-                                <td>1957 Parole Hearings Guard (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="71" data-display="Jodiviah Stepp" data-search="Jodiviah Stepp New Fish Con (uncredited)">[m
[31m-                                <td>Jodiviah Stepp</td>[m
[31m-                                <td>New Fish Con (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="72" data-display="Mark A. Strain" data-search="Mark A. Strain Yard Inmate (uncredited)">[m
[31m-                                <td>Mark A. Strain</td>[m
[31m-                                <td>Yard Inmate (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="73" data-display="James Babson" data-search="James Babson Con (uncredited)">[m
[31m-                                <td>James Babson</td>[m
[31m-                                <td>Con (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="74" data-display="Dennis Baker" data-search="Dennis Baker Old Man on Bus (uncredited)">[m
[31m-                                <td>Dennis Baker</td>[m
[31m-                                <td>Old Man on Bus (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="75" data-display="Fred Culbertson" data-search="Fred Culbertson Police Officer (uncredited)">[m
[31m-                                <td>Fred Culbertson</td>[m
[31m-                                <td>Police Officer (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="76" data-display="Richard Doone" data-search="Richard Doone Con (uncredited)">[m
[31m-                                <td>Richard Doone</td>[m
[31m-                                <td>Con (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="77" data-display="Samantha Goldberg" data-search="Samantha Goldberg Bank Employee (uncredited)">[m
[31m-                                <td>Samantha Goldberg</td>[m
[31m-                                <td>Bank Employee (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="78" data-display="Shane Grove" data-search="Shane Grove Inmate (uncredited)">[m
[31m-                                <td>Shane Grove</td>[m
[31m-                                <td>Inmate (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="79" data-display="Rita Hayworth" data-search="Rita Hayworth Gilda Mundson Farrell (archive footage) (uncredited)">[m
[31m-                                <td>Rita Hayworth</td>[m
[31m-                                <td>Gilda Mundson Farrell (archive footage) (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="80" data-display="David Hecht" data-search="David Hecht Bank Teller">[m
[31m-                                <td>David Hecht</td>[m
[31m-                                <td>Bank Teller</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="81" data-display="Alonzo F. Jones" data-search="Alonzo F. Jones Inmate (uncredited)">[m
[31m-                                <td>Alonzo F. Jones</td>[m
[31m-                                <td>Inmate (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="82" data-display="Gary Jones" data-search="Gary Jones Convict (uncredited)">[m
[31m-                                <td>Gary Jones</td>[m
[31m-                                <td>Convict (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="83" data-display="Sergio Kato" data-search="Sergio Kato Inmate II (uncredited)">[m
[31m-                                <td>Sergio Kato</td>[m
[31m-                                <td>Inmate II (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="84" data-display="Michael Lightsey" data-search="Michael Lightsey Con (uncredited)">[m
[31m-                                <td>Michael Lightsey</td>[m
[31m-                                <td>Con (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="85" data-display="Tracy Love" data-search="Tracy Love Court Spectator (uncredited)">[m
[31m-                                <td>Tracy Love</td>[m
[31m-                                <td>Court Spectator (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="86" data-display="George Macready" data-search="George Macready Ballin Mundson (archive footage) (uncredited)">[m
[31m-                                <td>George Macready</td>[m
[31m-                                <td>Ballin Mundson (archive footage) (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="87" data-display="Christopher Page" data-search="Christopher Page Traffic (driver) (uncredited)">[m
[31m-                                <td>Christopher Page</td>[m
[31m-                                <td>Traffic (driver) (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="88" data-display="Neil Riddaway" data-search="Neil Riddaway Con (uncredited)">[m
[31m-                                <td>Neil Riddaway</td>[m
[31m-                                <td>Con (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="89" data-display="Brad Spencer" data-search="Brad Spencer 1957 Parole Hearings Guard (uncredited)">[m
[31m-                                <td>Brad Spencer</td>[m
[31m-                                <td>1957 Parole Hearings Guard (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="90" data-display="Jodiviah Stepp" data-search="Jodiviah Stepp New Fish Con (uncredited)">[m
[31m-                                <td>Jodiviah Stepp</td>[m
[31m-                                <td>New Fish Con (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                            <tr data-value="91" data-display="Mark A. Strain" data-search="Mark A. Strain Yard Inmate (uncredited)">[m
[31m-                                <td>Mark A. Strain</td>[m
[31m-                                <td>Yard Inmate (uncredited)</td>[m
[31m-                            </tr>[m
[31m-                        </tbody>[m
[31m-                    </table>[m
[31m-                </combobox-framework>[m
[31m-            </section>[m
[31m-[m
[31m-            <section>[m
[31m-                <h2 id="examples">Examples</h2>[m
[31m-[m
[31m-                <nav>[m
[31m-                    <a href="#simple-list">Simple list</a>[m
[31m-                    <a href="#simple-list-with-custom-display-data">Simple list with custom display data</a>[m
[31m-                    <a href="#list-with-nested-elements">List with nested elements</a>[m
[31m-                    <a href="#tabular-data">Tabular data</a>[m
[31m-                    <a href="#preselected-option">Preselected option</a>[m
[31m-                    <a href="#custom-fusefuzzy-search-options">Custom Fuse/Fuzzy search options</a>[m
[31m-                    <a href="#force-valuelistbox">Force value/Listbox</a>[m
[31m-                    <a href="#limit-suggested-options">Limit suggested options</a>[m
[31m-                    <a href="#weighted-item-search">Weighted item search</a>[m
[31m-                    <a href="#change-events">Change events</a>[m
[31m-                </nav>[m
[31m-[m
[31m-                <section id="simple-list">[m
[31m-                    <h3>Simple list</h3>[m
[31m-[m
[31m-                    <p>[m
[31m-                        To use the combobox-framework, you need to add a <code>input</code> element and a list of items.[m
[31m-                        The <code>input</code> element needs to be placed in a <code>slot="input"</code> attribute and[m
[31m-                        the list of items needs to be placed in a <code>slot="list"</code> attribute.[m
[31m-                    </p>[m
[31m-[m
[31m-                    <p>[m
[31m-                        The <code>li</code> elements needs to have a <code>data-value</code> attribute. This is the[m
[31m-                        value that will be set on the <code>combobox-framework</code> element as the[m
[31m-                        <code>data-value</code> when a option is selected.[m
[31m-                    </p>[m
[31m-[m
[31m-                    <div data-example>[m
[31m-                        <combobox-framework>[m
[31m-                            <input id="simple-list-input" placeholder="Click me" type="text" slot="input" />[m
[31m-                            <ul anchor="simple-list-input" slot="list">[m
[31m-                                <li data-value="1">Item 1</li>[m
[31m-                                <li data-value="2">Item 2</li>[m
[31m-                                <li data-value="3">Item 3</li>[m
[31m-                                <li data-value="4">Item 4</li>[m
[31m-                            </ul>[m
[31m-                        </combobox-framework>[m
[31m-                    </div>[m
[31m-                </section>[m
[31m-[m
[31m-                <section id="simple-list-with-custom-display-data">[m
[31m-                    <h3>Simple list with custom display data</h3>[m
[31m-[m
[31m-                    <p>[m
[31m-                        To show diffrent data in the input than in the list, you need to add the[m
[31m-                        <code>data-display</code> attribute to the <code>li</code> element. This is the value that will[m
[31m-                        be shown in the input when a option is selected.[m
[31m-                    </p>[m
[31m-[m
[31m-                    <div data-example>[m
[31m-                        <combobox-framework>[m
[31m-                            <input id="custom-display-data-input" placeholder="Click me" type="text" slot="input" />[m
[31m-                            <ul anchor="custom-display-data-input" slot="list">[m
[31m-                                <li data-value="1" data-display="Item 1">1</li>[m
[31m-                                <li data-value="2" data-display="Item 2">2</li>[m
[31m-                                <li data-value="3" data-display="Item 3">3</li>[m
[31m-                                <li data-value="4" data-display="Item 4">4</li>[m
[31m-                            </ul>[m
[31m-                        </combobox-framework>[m
[31m-                    </div>[m
[31m-                </section>[m
[31m-[m
[31m-                <section id="list-with-nested-elements">[m
[31m-                    <h3>List with nested elements</h3>[m
[31m-[m
[31m-                    <p>[m
[31m-                        To use nested elements, you need to add the <code>data-display</code> attribute to the[m
[31m-                        <code>li</code> element. This is the value that will be shown in the input when a option is[m
[31m-                        selected.[m
[31m-                    </p>[m
[31m-[m
[31m-                    <div data-example>[m
[31m-                        <combobox-framework>[m
[31m-                            <input id="nested-elements-input" placeholder="Click me" type="text" slot="input" />[m
[31m-                            <ul anchor="nested-elements-input" slot="list">[m
[31m-                                <li data-value="1" data-display="Item 1">[m
[31m-                                    <div>Item 1</div>[m
[31m-                                </li>[m
[31m-                                <li data-value="2" data-display="Item 2">[m
[31m-                                    <div>Item 2</div>[m
[31m-                                </li>[m
[31m-                                <li data-value="3" data-display="Item 3">[m
[31m-                                    <div>Item 3</div>[m
[31m-                                </li>[m
[31m-                                <li data-value="4" data-display="Item 4">[m
[31m-                                    <div>Item 4</div>[m
[31m-                                </li>[m
[31m-                            </ul>[m
[31m-                        </combobox-framework>[m
[31m-                    </div>[m
[31m-                </section>[m
[31m-[m
[31m-                <section id="tabular-data">[m
[31m-                    <h3>Tabular data</h3>[m
[31m-[m
[31m-                    <p>[m
[31m-                        To use tabular data, you need to add the <code>data-list</code> attribute to the[m
[31m-                        <code>tbody</code> element. This will tell the combobox-framework to use the[m
[31m-                        <code>tbody</code> element as the list of items and not the table itself.[m
[31m-                    </p>[m
[31m-[m
[31m-                    <div data-example>[m
[31m-                        <combobox-framework>[m
[31m-                            <input id="tabular-data-input" placeholder="Click me" type="text" slot="input" />[m
[31m-                            <table anchor="tabular-data-input" slot="list">[m
[31m-                                <thead>[m
[31m-                                    <th>Name</th>[m
[31m-                                    <th>Number</th>[m
[31m-                                </thead>[m
[31m-                                <tbody data-list>[m
[31m-                                    <tr data-value="1" data-display="Item 1">[m
[31m-                                        <td>Item</td>[m
[31m-                                        <td>1</td>[m
[31m-                                    </tr>[m
[31m-                                    <tr data-value="2" data-display="Item 2">[m
[31m-                                        <td>Item</td>[m
[31m-                                        <td>2</td>[m
[31m-                                    </tr>[m
[31m-                                    <tr data-value="3" data-display="Item 3">[m
[31m-                                        <td>Item</td>[m
[31m-                                        <td>3</td>[m
[31m-                                    </tr>[m
[31m-                                    <tr data-value="4" data-display="Item 4">[m
[31m-                                        <td>Item</td>[m
[31m-                                        <td>4</td>[m
[31m-                                    </tr>[m
[31m-                                </tbody>[m
[31m-                            </table>[m
[31m-                        </combobox-framework>[m
[31m-                    </div>[m
[31m-                </section>[m
[31m-[m
[31m-                <section id="preselected-option">[m
[31m-                    <h3>Preselected option</h3>[m
[31m-[m
[31m-                    <p>[m
[31m-                        To preselect a option, you need to add the <code>data-value</code> attribute to the[m
[31m-                        <code>combobox-framework</code> element. This will tell the combobox-framework to select the[m
[31m-                        option with the matching <code>data-value</code> attribute.[m
[31m-                    </p>[m
[31m-[m
[31m-                    <div data-example>[m
[31m-                        <combobox-framework data-value="1">[m
[31m-                            <input id="preselected-option-input" placeholder="Click me" type="text" slot="input" />[m
[31m-                            <ul anchor="preselected-option-input" slot="list">[m
[31m-                                <li data-value="1">Item 1</li>[m
[31m-                                <li data-value="2">Item 2</li>[m
[31m-                                <li data-value="3">Item 3</li>[m
[31m-                                <li data-value="4">Item 4</li>[m
[31m-                            </ul>[m
[31m-                        </combobox-framework>[m
[31m-                    </div>[m
[31m-                </section>[m
[31m-[m
[31m-                <section id="custom-fusefuzzy-search-options">[m
[31m-                    <h3>Custom Fuse/Fuzzy search options</h3>[m
[31m-[m
[31m-                    <p>[m
[31m-                        To use custom fuse/fuzzy search options, you need to add the[m
[31m-                        <code>data-fuse-options</code> attribute to the <code>combobox-framework</code> element, and[m
[31m-                        pass in a JSON string of the settings object. This will tell the combobox-framework to use the[m
[31m-                        custom options when searching for a option.[m
[31m-                    </p>[m
[31m-[m
[31m-                    <p>[m
[31m-                        For what options are available, see the[m
[31m-                        <a href="https://www.fusejs.io/api/options.html">Fuse.js documentation</a>[m
[31m-                    </p>[m
[31m-[m
[31m-                    <div data-example>[m
[31m-                        <combobox-framework data-fuse-options='{ "includeScore": true, "keys": ["dataset.value"]}'>[m
[31m-                            <input id="fuse-options-input" placeholder="Click me" type="text" slot="input" />[m
[31m-                            <ul anchor="fuse-options-input" slot="list">[m
[31m-                                <li data-value="1">Item 1</li>[m
[31m-                                <li data-value="2">Item 2</li>[m
[31m-                                <li data-value="3">Item 3</li>[m
[31m-                                <li data-value="4">Item 4</li>[m
[31m-                            </ul>[m
[31m-                        </combobox-framework>[m
[31m-                    </div>[m
[31m-                </section>[m
[31m-[m
[31m-                <section id="force-valuelistbox">[m
[31m-                    <h3>Force value/Listbox</h3>[m
[31m-[m
[31m-                    <p>[m
[31m-                        To force the combobox-framework to act as a searchable listbox, you need to add the[m
[31m-                        <code>data-listbox</code> attribute to the <code>combobox-framework</code> element. This will[m
[31m-                        tell the combobox-framework to act as a searchable listbox instead of a combobox. And only allow[m
[31m-                        the <code>value</code> to be one of the options in the list or <code>null</code>.[m
[31m-                    </p>[m
[31m-[m
[31m-                    <div data-example>[m
[31m-                        <combobox-framework data-listbox="true">[m
[31m-                            <input id="force-valuelistbox-input" placeholder="Click me" type="text" slot="input" />[m
[31m-                            <ul anchor="force-valuelistbox-input" slot="list">[m
[31m-                                <li data-value="1">Item 1</li>[m
[31m-                                <li data-value="2">Item 2</li>[m
[31m-                                <li data-value="3">Item 3</li>[m
[31m-                                <li data-value="4">Item 4</li>[m
[31m-                            </ul>[m
[31m-                        </combobox-framework>[m
[31m-                    </div>[m
[31m-                </section>[m
[31m-[m
[31m-                <section id="limit-suggested-options">[m
[31m-                    <h3>Limit suggested options</h3>[m
[31m-[m
[31m-                    <p>[m
[31m-                        To limit the number of suggested options, you need to add the <code>data-limit</code> attribute[m
[31m-                        to the <code>combobox-framework</code> element. This will tell the combobox-framework to only[m
[31m-                        show the number of options specified in the <code>data-limit</code> attribute.[m
[31m-                    </p>[m
[31m-[m
[31m-                    <div data-example>[m
[31m-                        <combobox-framework data-limit="2">[m
[31m-                            <input id="limit-suggested-options-input" placeholder="Click me" type="text" slot="input" />[m
[31m-                            <ul anchor="limit-suggested-options-input" slot="list">[m
[31m-                                <li data-value="1">Item 1</li>[m
[31m-                                <li data-value="2">Item 2</li>[m
[31m-                                <li data-value="3">Item 3</li>[m
[31m-                                <li data-value="4">Item 4</li>[m
[31m-                            </ul>[m
[31m-                        </combobox-framework>[m
[31m-                    </div>[m
[31m-                </section>[m
[31m-[m
[31m-                <section>[m
[31m-                    <h3 id="weighted-item-search">Weighted item search</h3>[m
[31m-[m
[31m-                    <p>[m
[31m-                        To use weighted item search, you need to add the <code>data-weight</code> attribute to the[m
[31m-                        <code>li</code> element. This is the value that will be used to sort the options when searching[m
[31m-                        for a option.[m
[31m-                    </p>[m
[31m-[m
[31m-                    <p>[m
[31m-                      <em>NOTE: Fuse options must have <code>includeScore</code> set to <code>true</code> for weighted search to work.</em>[m
[31m-                      <code>includeScore</code> is true by default, if you have not set custom fuse options.[m
[31m-                    </p>[m
[31m-[m
[31m-                    <p>[m
[31m-                        <em>NOTE: The <code>data-weight</code> attribute is a number, and the higher the number the higher the weight.</em>[m
[31m-                    </p>[m
[31m-[m
[31m-                    <div data-example>[m
[31m-                        <combobox-framework>[m
[31m-                            <input id="weighted-item-search-input" placeholder="Click me" type="text" slot="input" />[m
[31m-                            <ul anchor="weighted-item-search-input" slot="list">[m
[31m-                                <li data-value="1" data-display="Item 1" data-weight="5">Item 1</li>[m
[31m-                                <li data-value="2" data-display="Item 2" data-weight="1">Item 2</li>[m
[31m-                                <li data-value="3" data-display="Item 3" data-weight="1">Item 3</li>[m
[31m-                                <li data-value="4" data-display="Item 4" data-weight="10">Item 4</li>[m
[31m-                            </ul>[m
[31m-                        </combobox-framework>[m
[31m-                    </div>[m
[31m-                </section>[m
[31m-[m
[31m-                <section>[m
[31m-                    <h3 id="change-events">Change events</h3>[m
[31m-[m
[31m-                    <p>[m
[31m-                        To add a change event, you need to add the <code>onchange</code> attribute to the[m
[31m-                        <code>combobox-framework</code> element. This will tell the combobox-framework to run the[m
[31m-                        function when the value of the combobox changes.[m
[31m-                    </p>[m
[31m-[m
[31m-                    <div data-example>[m
[31m-                        <combobox-framework onchange="console.log('Changed')">[m
[31m-                            <input id="change-events-input" placeholder="Click me" type="text" slot="input" />[m
[31m-                            <ul anchor="change-events-input" slot="list">[m
[31m-                                <li data-value="1">Item 1</li>[m
[31m-                                <li data-value="2">Item 2</li>[m
[31m-                                <li data-value="3">Item 3</li>[m
[31m-                                <li data-value="4">Item 4</li>[m
[31m-                            </ul>[m
[31m-                        </combobox-framework>[m
[31m-                    </div>[m
[31m-                </section>[m
[31m-[m
[31m-            </section>[m
[31m-[m
[31m-            <section>[m
[31m-                <h2 id="styling">Styling</h2>[m
[31m-[m
[31m-                <p>This is the styling thats being used on this demo page. Hopefully it gives a good starting point</p>[m
[31m-[m
[31m-                <div data-example>[m
[31m-                    <style>[m
[31m-                        combobox-framework [slot="list"] {[m
[31m-                            color: var(--background-color);[m
[31m-                            background-color: var(--text-color);[m
[31m-                            position: absolute;[m
[31m-                            top: anchor(bottom);[m
[31m-                            left: anchor(left);[m
[31m-                            right: anchor(right);[m
[31m-                            list-style: none;[m
[31m-                            margin: 0;[m
[31m-                            padding: 0;[m
[31m-                            border: 1px solid black;[m
[31m-                            border-radius: 0 0 0.2rem 0.2rem;[m
[31m-                        }[m
[31m-[m
[31m-                        combobox-framework [slot="list"] > * {[m
[31m-                            padding: 0.2rem;[m
[31m-                            cursor: pointer;[m
[31m-                        }[m
[31m-[m
[31m-                        combobox-framework [slot="list"] li:hover,[m
[31m-                        combobox-framework [slot="list"] tr:hover td {[m
[31m-                            background-color: var(--primary-color);[m
[31m-                        }[m
[31m-                    </style>[m
[31m-                </div>[m
[31m-            </section>[m
[31m-        </article>[m
[31m-[m
[31m-        <script type="module" src="https://unpkg.com/combobox-framework"></script>[m
[31m-[m
[31m-        <script>[m
[31m-            const examples = document.querySelectorAll("[data-example]");[m
[31m-            for (const example of examples) {[m
[31m-                let exampleContent = example.innerHTML.trimEnd();[m
[31m-[m
[31m-                // Remove leading and ending newlines[m
[31m-                if(exampleContent.startsWith('\n')) exampleContent = exampleContent.slice(1);[m
[31m-                if(exampleContent.endsWith('\n')) exampleContent = exampleContent.slice(exampleContent.length, 1);[m
[31m-                // end - Remove leading and ending newlines[m
[31m-[m
[31m-                // Replace < and > with &lt; and &gt;[m
[31m-                exampleContent = exampleContent.replace(/</g, "&lt;").replace(/>/g, "&gt;");[m
[31m-                // end - Replace < and > with &lt; and &gt;[m
[31m-[m
[31m-                // Remove leading spaces[m
[31m-                leadingSpaces = exampleContent.match(/^\s+/);[m
[31m-                if(leadingSpaces) {[m
[31m-                    exampleContent = exampleContent.replace(new RegExp(`^${leadingSpaces[0]}`, "gm"), "");[m
[31m-                }[m
[31m-                // end - Remove leading spaces[m
[31m-                [m
[31m-                // Add pre and code tags[m
[31m-                pre = document.createElement("pre");[m
[31m-                pre.innerHTML = `<code>${exampleContent}</code>`;[m
[31m-                example.appendChild(pre);[m
[31m-                // end - Add pre and code tags[m
[31m-            }[m
[31m-        </script>[m
[31m-        <script>hljs.highlightAll();</script>[m
[31m-    </body>[m
[31m-</html>[m
[32m+[m[32m<!DOCTYPE html>[m[41m[m
[32m+[m[32m<html lang="en">[m[41m[m
[32m+[m[32m  <head>[m[41m[m
[32m+[m[32m    <meta charset="UTF-8" />[m[41m[m
[32m+[m[32m    <meta name="viewport" content="width=device-width, initial-scale=1.0" />[m[41m[m
[32m+[m[32m    <meta[m[41m[m
[32m+[m[32m      name="description"[m[41m[m
[32m+[m[32m      content="An adaptable framework for building accessible comboboxes. Built as a web component"[m[41m[m
[32m+[m[32m    />[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    <title>Combobox Framework</title>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    <link rel="stylesheet" href="./styles/style.css" />[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    <!-- fonts -->[m[41m[m
[32m+[m[32m    <link rel="preconnect" href="https://fonts.googleapis.com" />[m[41m[m
[32m+[m[32m    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />[m[41m[m
[32m+[m[32m    <link[m[41m[m
[32m+[m[32m      href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&display=swap"[m[41m[m
[32m+[m[32m      rel="stylesheet"[m[41m[m
[32m+[m[32m    />[m[41m[m
[32m+[m[32m    <!-- end -->[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    <!-- highlightjs -->[m[41m[m
[32m+[m[32m    <link rel="preconnect" href="https://cdnjs.cloudflare.com" />[m[41m[m
[32m+[m[32m    <link[m[41m[m
[32m+[m[32m      rel="stylesheet"[m[41m[m
[32m+[m[32m      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.css"[m[41m[m
[32m+[m[32m    />[m[41m[m
[32m+[m[32m    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>[m[41m[m
[32m+[m[32m    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/xml.min.js"></script>[m[41m[m
[32m+[m[32m    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/css.min.js"></script>[m[41m[m
[32m+[m[32m    <!-- end -->[m[41m[m
[32m+[m[32m  </head>[m[41m[m
[32m+[m[32m  <body>[m[41m[m
[32m+[m[32m    <article>[m[41m[m
[32m+[m[32m      <header>[m[41m[m
[32m+[m[32m        <h1>Combobox framework documentation</h1>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <nav>[m[41m[m
[32m+[m[32m          <a href="#installation">Installation</a>[m[41m[m
[32m+[m[32m          <a href="#examples">Examples</a>[m[41m[m
[32m+[m[32m          <a href="#styling">Styling</a>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <a href="https://github.com/klovaaxel/combobox-framework">GitHub</a>[m[41m[m
[32m+[m[32m          <a href="https://www.npmjs.com/package/combobox-framework">NPM</a>[m[41m[m
[32m+[m[32m          <a href="https://www.webcomponents.org/element/combobox-framework"[m[41m[m
[32m+[m[32m            >WebComponents</a[m[41m[m
[32m+[m[32m          >[m[41m[m
[32m+[m[32m        </nav>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <p>[m[41m[m
[32m+[m[32m          An adaptable framework for building accessible comboboxes. Built as a[m[41m[m
[32m+[m[32m          web component, it can be used in any framework or vanilla HTML/CSS/JS.[m[41m[m
[32m+[m[32m        </p>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <section class="features">[m[41m[m
[32m+[m[32m          <h2>Key features</h2>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <ul>[m[41m[m
[32m+[m[32m            <li class="accessible">[m[41m[m
[32m+[m[32m              Accessible! Built to follow the WAI-ARIA combobox design pattern.[m[41m[m
[32m+[m[32m              Built for keyboard navigation, screen readers, and other assistive[m[41m[m
[32m+[m[32m              technologies.[m[41m[m
[32m+[m[32m            </li>[m[41m[m
[32m+[m[32m            <li class="styling">[m[41m[m
[32m+[m[32m              Easy to style! Bind your own elements to the framework slots, and[m[41m[m
[32m+[m[32m              style them however you want. Easy to integrate into any design[m[41m[m
[32m+[m[32m              system.[m[41m[m
[32m+[m[32m            </li>[m[41m[m
[32m+[m[32m          </ul>[m[41m[m
[32m+[m[32m        </section>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <p>[m[41m[m
[32m+[m[32m          What follows are examples of how to use/implement the[m[41m[m
[32m+[m[32m          combobox-framework component[m[41m[m
[32m+[m[32m        </p>[m[41m[m
[32m+[m[32m      </header>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m      <section>[m[41m[m
[32m+[m[32m        <h2 id="installation">Installation</h2>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <section>[m[41m[m
[32m+[m[32m          <h3>Link in from CDN</h3>[m[41m[m
[32m+[m[32m          <pre><code>&lt;script type="module" src="https://unpkg.com/combobox-framework"&gt;&lt;/script&gt;</code></pre>[m[41m[m
[32m+[m[32m        </section>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <section>[m[41m[m
[32m+[m[32m          <h3>Install from npm</h3>[m[41m[m
[32m+[m[32m          <p>Install the combobox-framework from npm</p>[m[41m[m
[32m+[m[32m          <pre><code>npm install combobox-framework</code></pre>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <p>Import the combobox-framework into your project</p>[m[41m[m
[32m+[m[32m          <pre><code>import 'combobox-framework';</code></pre>[m[41m[m
[32m+[m[32m        </section>[m[41m[m
[32m+[m[32m      </section>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m      <section>[m[41m[m
[32m+[m[32m        <h2>Demo</h2>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <p>[m[41m[m
[32m+[m[32m          A "real world" example of how the combobox-framework can be used.[m[41m[m
[32m+[m[32m          Meant to show how the search functionality can be used with a larger[m[41m[m
[32m+[m[32m          dataset (91 options).[m[41m[m
[32m+[m[32m        </p>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <p>[m[41m[m
[32m+[m[32m          The example is a combobox-framework with a input and a table of cast[m[41m[m
[32m+[m[32m          members from the movie The Shawshank Redemption. The input is used to[m[41m[m
[32m+[m[32m          search for a cast member, and the table is used to show the cast[m[41m[m
[32m+[m[32m          members.[m[41m[m
[32m+[m[32m        </p>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <p>[m[41m[m
[32m+[m[32m          <em>Note:</em> The focus of this demo is not on the styling, but on[m[41m[m
[32m+[m[32m          the functionality of the combobox-framework.[m[41m[m
[32m+[m[32m        </p>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <label style="display: block" for="demo-input"[m[41m[m
[32m+[m[32m          >Select a cast member:</label[m[41m[m
[32m+[m[32m        >[m[41m[m
[32m+[m[32m        <combobox-framework[m[41m[m
[32m+[m[32m          data-limit="20"[m[41m[m
[32m+[m[32m          data-fuse-options='{ "includeScore": true, "keys": ["dataset.search"]}'[m[41m[m
[32m+[m[32m        >[m[41m[m
[32m+[m[32m          <input[m[41m[m
[32m+[m[32m            id="demo-input"[m[41m[m
[32m+[m[32m            placeholder="Click me"[m[41m[m
[32m+[m[32m            type="text"[m[41m[m
[32m+[m[32m            slot="input"[m[41m[m
[32m+[m[32m            size="50"[m[41m[m
[32m+[m[32m          />[m[41m[m
[32m+[m[32m          <table anchor="demo-input" slot="list">[m[41m[m
[32m+[m[32m            <thead>[m[41m[m
[32m+[m[32m              <tr>[m[41m[m
[32m+[m[32m                <th>Name</th>[m[41m[m
[32m+[m[32m                <th>Role</th>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m            </thead>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            <tbody data-list>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="1"[m[41m[m
[32m+[m[32m                data-display="Tim Robbins"[m[41m[m
[32m+[m[32m                data-search="Tim Robbins Andy Dufresne"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Tim Robbins</td>[m[41m[m
[32m+[m[32m                <td>Andy Dufresne</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="2"[m[41m[m
[32m+[m[32m                data-display="Morgan Freeman"[m[41m[m
[32m+[m[32m                data-search='Morgan Freeman Ellis Boyd "Red" Redding'[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Morgan Freeman</td>[m[41m[m
[32m+[m[32m                <td>Ellis Boyd "Red" Redding</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="3"[m[41m[m
[32m+[m[32m                data-display="Bob Gunton"[m[41m[m
[32m+[m[32m                data-search="Bob Gunton Warden Samuel Norton"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Bob Gunton</td>[m[41m[m
[32m+[m[32m                <td>Warden Samuel Norton</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="4"[m[41m[m
[32m+[m[32m                data-display="William Sadler"[m[41m[m
[32m+[m[32m                data-search="William Sadler Heywood"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>William Sadler</td>[m[41m[m
[32m+[m[32m                <td>Heywood</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="5"[m[41m[m
[32m+[m[32m                data-display="Clancy Brown"[m[41m[m
[32m+[m[32m                data-search="Clancy Brown Byron Hadley"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Clancy Brown</td>[m[41m[m
[32m+[m[32m                <td>Byron Hadley</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="6"[m[41m[m
[32m+[m[32m                data-display="Gil Bellows"[m[41m[m
[32m+[m[32m                data-search="Gil Bellows Tommy Williams"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Gil Bellows</td>[m[41m[m
[32m+[m[32m                <td>Tommy Williams</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="7"[m[41m[m
[32m+[m[32m                data-display="James Whitmore"[m[41m[m
[32m+[m[32m                data-search="James Whitmore Brooks Hatlen"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>James Whitmore</td>[m[41m[m
[32m+[m[32m                <td>Brooks Hatlen</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="8"[m[41m[m
[32m+[m[32m                data-display="Mark Rolston"[m[41m[m
[32m+[m[32m                data-search="Mark Rolston Bogs Diamond"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Mark Rolston</td>[m[41m[m
[32m+[m[32m                <td>Bogs Diamond</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="9"[m[41m[m
[32m+[m[32m                data-display="Jeffrey DeMunn"[m[41m[m
[32m+[m[32m                data-search="Jeffrey DeMunn 1946 D.A."[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Jeffrey DeMunn</td>[m[41m[m
[32m+[m[32m                <td>1946 D.A.</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="10"[m[41m[m
[32m+[m[32m                data-display="Larry Brandenburg"[m[41m[m
[32m+[m[32m                data-search="Larry Brandenburg Skeet"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Larry Brandenburg</td>[m[41m[m
[32m+[m[32m                <td>Skeet</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="11"[m[41m[m
[32m+[m[32m                data-display="Neil Giuntoli"[m[41m[m
[32m+[m[32m                data-search="Neil Giunt Jigger"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Neil Giuntoli</td>[m[41m[m
[32m+[m[32m                <td>Jigger</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="12"[m[41m[m
[32m+[m[32m                data-display="Brian Libby"[m[41m[m
[32m+[m[32m                data-search="Brian Libby Floyd"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Brian Libby</td>[m[41m[m
[32m+[m[32m                <td>Floyd</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="13"[m[41m[m
[32m+[m[32m                data-display="David Proval"[m[41m[m
[32m+[m[32m                data-search="David Proval Snooze"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>David Proval</td>[m[41m[m
[32m+[m[32m                <td>Snooze</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="14"[m[41m[m
[32m+[m[32m                data-display="Joseph Ragno"[m[41m[m
[32m+[m[32m                data-search="Joseph Ragno Ernie"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Joseph Ragno</td>[m[41m[m
[32m+[m[32m                <td>Ernie</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="15"[m[41m[m
[32m+[m[32m                data-display="Jude Ciccolella"[m[41m[m
[32m+[m[32m                data-search="Jude Ciccolella Guard Mert"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Jude Ciccolella</td>[m[41m[m
[32m+[m[32m                <td>Guard Mert</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="16"[m[41m[m
[32m+[m[32m                data-display="Paul McCrane"[m[41m[m
[32m+[m[32m                data-search="Paul McCrane Guard Trout"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Paul McCrane</td>[m[41m[m
[32m+[m[32m                <td>Guard Trout</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="17"[m[41m[m
[32m+[m[32m                data-display="Renee Blaine"[m[41m[m
[32m+[m[32m                data-search="Renee Blaine Linda Dufresne (Andy Dufresne's Wife)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Renee Blaine</td>[m[41m[m
[32m+[m[32m                <td>Linda Dufresne (Andy Dufresne's Wife)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="18"[m[41m[m
[32m+[m[32m                data-display="Scott Mann"[m[41m[m
[32m+[m[32m                data-search="Scott Mann Glenn Quentin"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Scott Mann</td>[m[41m[m
[32m+[m[32m                <td>Glenn Quentin</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="19"[m[41m[m
[32m+[m[32m                data-display="John Horton"[m[41m[m
[32m+[m[32m                data-search="John Horton Lloyd Henreid (Judge)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>John Horton</td>[m[41m[m
[32m+[m[32m                <td>Lloyd Henreid (Judge)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="20"[m[41m[m
[32m+[m[32m                data-display="Gordon Greene"[m[41m[m
[32m+[m[32m                data-search="Gordon Greene 1947 Parole Hearings Man"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Gordon Greene</td>[m[41m[m
[32m+[m[32m                <td>1947 Parole Hearings Man</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="21"[m[41m[m
[32m+[m[32m                data-display="Alfonso Freeman"[m[41m[m
[32m+[m[32m                data-search="Alfonso Freeman Fresh Fish Con"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Alfonso Freeman</td>[m[41m[m
[32m+[m[32m                <td>Fresh Fish Con</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="22"[m[41m[m
[32m+[m[32m                data-display="V.J. Foster"[m[41m[m
[32m+[m[32m                data-search="V.J. Foster Hungry Fish Con (as V.J. Foster)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>V.J. Foster</td>[m[41m[m
[32m+[m[32m                <td>Hungry Fish Con (as V.J. Foster)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="23"[m[41m[m
[32m+[m[32m                data-display="John E. Summers"[m[41m[m
[32m+[m[32m                data-search="John E. Summers New Fish Guard"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>John E. Summers</td>[m[41m[m
[32m+[m[32m                <td>New Fish Guard</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="24"[m[41m[m
[32m+[m[32m                data-display="Frank Medrano"[m[41m[m
[32m+[m[32m                data-search="Frank Medr Fat Ass"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Frank Medrano</td>[m[41m[m
[32m+[m[32m                <td>Fat Ass</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="25"[m[41m[m
[32m+[m[32m                data-display="Mack Miles"[m[41m[m
[32m+[m[32m                data-search="Mack Miles Tyrell"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Mack Miles</td>[m[41m[m
[32m+[m[32m                <td>Tyrell</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="26"[m[41m[m
[32m+[m[32m                data-display="Alan R. Kessler"[m[41m[m
[32m+[m[32m                data-search="Alan R. Kessler Laundry Bob"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Alan R. Kessler</td>[m[41m[m
[32m+[m[32m                <td>Laundry Bob</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="27"[m[41m[m
[32m+[m[32m                data-display="Morgan Lund"[m[41m[m
[32m+[m[32m                data-search="Morgan Lund Laundry Truck Driver"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Morgan Lund</td>[m[41m[m
[32m+[m[32m                <td>Laundry Truck Driver</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="28"[m[41m[m
[32m+[m[32m                data-display="Cornell Wallace"[m[41m[m
[32m+[m[32m                data-search="Cornell Wallace Laundry Leonard"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Cornell Wallace</td>[m[41m[m
[32m+[m[32m                <td>Laundry Leonard</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="29"[m[41m[m
[32m+[m[32m                data-display="Gary Lee Davis"[m[41m[m
[32m+[m[32m                data-search="Gary Lee Davis Rooster"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Gary Lee Davis</td>[m[41m[m
[32m+[m[32m                <td>Rooster</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="30"[m[41m[m
[32m+[m[32m                data-display="Neil Summers"[m[41m[m
[32m+[m[32m                data-search="Neil Summers Pete"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Neil Summers</td>[m[41m[m
[32m+[m[32m                <td>Pete</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="31"[m[41m[m
[32m+[m[32m                data-display="Ned Bellamy"[m[41m[m
[32m+[m[32m                data-search="Ned Bellamy Guard Youngblood"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Ned Bellamy</td>[m[41m[m
[32m+[m[32m                <td>Guard Youngblood</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="32"[m[41m[m
[32m+[m[32m                data-display="Joe Pecoraro"[m[41m[m
[32m+[m[32m                data-search="Joe Pecoraro Projectionist"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Joe Pecoraro</td>[m[41m[m
[32m+[m[32m                <td>Projectionist</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="33"[m[41m[m
[32m+[m[32m                data-display="Harold E. Cope Jr."[m[41m[m
[32m+[m[32m                data-search="Harold E. Cope Jr. Hole Guard"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Harold E. Cope Jr.</td>[m[41m[m
[32m+[m[32m                <td>Hole Guard</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="34"[m[41m[m
[32m+[m[32m                data-display="Brian Delate"[m[41m[m
[32m+[m[32m                data-search="Brian Delate Guard Dekins"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Brian Delate</td>[m[41m[m
[32m+[m[32m                <td>Guard Dekins</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="35"[m[41m[m
[32m+[m[32m                data-display="Don McManus"[m[41m[m
[32m+[m[32m                data-search="Don McManus Guard Wiley"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Don McManus</td>[m[41m[m
[32m+[m[32m                <td>Guard Wiley</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="36"[m[41m[m
[32m+[m[32m                data-display="Dorothy Silver"[m[41m[m
[32m+[m[32m                data-search="Dorothy Silver Landlady"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Dorothy Silver</td>[m[41m[m
[32m+[m[32m                <td>Landlady</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="37"[m[41m[m
[32m+[m[32m                data-display="Donald Zinn"[m[41m[m
[32m+[m[32m                data-search="Donald Zinn Moresby Batter"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Donald Zinn</td>[m[41m[m
[32m+[m[32m                <td>Moresby Batter</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="38"[m[41m[m
[32m+[m[32m                data-display="Robert Haley"[m[41m[m
[32m+[m[32m                data-search="Robert Haley 1954 Food-Way Manager"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Robert Haley</td>[m[41m[m
[32m+[m[32m                <td>1954 Food-Way Manager</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="39"[m[41m[m
[32m+[m[32m                data-display="Dana Snyder"[m[41m[m
[32m+[m[32m                data-search="Dana Snyder 1954 Food-Way Proprietor"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Dana Snyder</td>[m[41m[m
[32m+[m[32m                <td>1954 Food-Way Proprietor</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="40"[m[41m[m
[32m+[m[32m                data-display="John D. Craig"[m[41m[m
[32m+[m[32m                data-search="John D. Craig 1954 Food-Way Customer"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>John D. Craig</td>[m[41m[m
[32m+[m[32m                <td>1954 Food-Way Customer</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="41"[m[41m[m
[32m+[m[32m                data-display="Ken Magee"[m[41m[m
[32m+[m[32m                data-search="Ken Magee Ned Grimes"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Ken Magee</td>[m[41m[m
[32m+[m[32m                <td>Ned Grimes</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="42"[m[41m[m
[32m+[m[32m                data-display="Eugene C. DePasquale"[m[41m[m
[32m+[m[32m                data-search="Eugene C. DePasquale Mail Caller"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Eugene C. DePasquale</td>[m[41m[m
[32m+[m[32m                <td>Mail Caller</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="43"[m[41m[m
[32m+[m[32m                data-display="Bill Bolender"[m[41m[m
[32m+[m[32m                data-search="Bill Bolender Elmo Blatch"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Bill Bolender</td>[m[41m[m
[32m+[m[32m                <td>Elmo Blatch</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="44"[m[41m[m
[32m+[m[32m                data-display="Ron Newell"[m[41m[m
[32m+[m[32m                data-search="Ron Newell Elderly Hole Guard"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Ron Newell</td>[m[41m[m
[32m+[m[32m                <td>Elderly Hole Guard</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="45"[m[41m[m
[32m+[m[32m                data-display="John R. Woodward"[m[41m[m
[32m+[m[32m                data-search="John R. Woodward Bullhorn Tower Guard"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>John R. Woodward</td>[m[41m[m
[32m+[m[32m                <td>Bullhorn Tower Guard</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="46"[m[41m[m
[32m+[m[32m                data-display="Chuck Brauchler"[m[41m[m
[32m+[m[32m                data-search="Chuck Brauchler Man Missing Guard"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Chuck Brauchler</td>[m[41m[m
[32m+[m[32m                <td>Man Missing Guard</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="47"[m[41m[m
[32m+[m[32m                data-display="Dion Anderson"[m[41m[m
[32m+[m[32m                data-search="Dion Anderson Head Bull Haig"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Dion Anderson</td>[m[41m[m
[32m+[m[32m                <td>Head Bull Haig</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="48"[m[41m[m
[32m+[m[32m                data-display="Claire Slemmer"[m[41m[m
[32m+[m[32m                data-search="Claire Slemmer Bank Teller"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Claire Slemmer</td>[m[41m[m
[32m+[m[32m                <td>Bank Teller</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="49"[m[41m[m
[32m+[m[32m                data-display="James Kisicki"[m[41m[m
[32m+[m[32m                data-search="James Kisicki Bank Manager"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>James Kisicki</td>[m[41m[m
[32m+[m[32m                <td>Bank Manager</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="50"[m[41m[m
[32m+[m[32m                data-display="Rohn Thomas"[m[41m[m
[32m+[m[32m                data-search="Rohn Thomas Bugle Editor"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Rohn Thomas</td>[m[41m[m
[32m+[m[32m                <td>Bugle Editor</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="51"[m[41m[m
[32m+[m[32m                data-display="Charlie Kearns"[m[41m[m
[32m+[m[32m                data-search="Charlie Kearns 1966 D.A"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Charlie Kearns</td>[m[41m[m
[32m+[m[32m                <td>1966 D.A</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="52"[m[41m[m
[32m+[m[32m                data-display="Rob Reider"[m[41m[m
[32m+[m[32m                data-search="Rob Reider Duty Guard"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Rob Reider</td>[m[41m[m
[32m+[m[32m                <td>Duty Guard</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="53"[m[41m[m
[32m+[m[32m                data-display="Brian Brophy"[m[41m[m
[32m+[m[32m                data-search="Brian Brophy 1967 Parole Hearings Man"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Brian Brophy</td>[m[41m[m
[32m+[m[32m                <td>1967 Parole Hearings Man</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="54"[m[41m[m
[32m+[m[32m                data-display="Paul Kennedy"[m[41m[m
[32m+[m[32m                data-search="Paul Kennedy 1967 Food-Way Manager"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Paul Kennedy</td>[m[41m[m
[32m+[m[32m                <td>1967 Food-Way Manager</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="55"[m[41m[m
[32m+[m[32m                data-display="Dennis Baker"[m[41m[m
[32m+[m[32m                data-search="Dennis Baker Old Man on Bus (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>John D. Craig</td>[m[41m[m
[32m+[m[32m                <td>Old Man on Bus (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="56"[m[41m[m
[32m+[m[32m                data-display="Fred Culbertson"[m[41m[m
[32m+[m[32m                data-search="Fred Culbertson Police Officer (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Fred Culbertson</td>[m[41m[m
[32m+[m[32m                <td>Police Officer (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="57"[m[41m[m
[32m+[m[32m                data-display="Richard Doone"[m[41m[m
[32m+[m[32m                data-search="Richard Doone Con (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Richard Doone</td>[m[41m[m
[32m+[m[32m                <td>Con (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="58"[m[41m[m
[32m+[m[32m                data-display="Samantha Goldberg"[m[41m[m
[32m+[m[32m                data-search="Samantha Goldberg Bank Employee (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Samantha Goldberg</td>[m[41m[m
[32m+[m[32m                <td>Bank Employee (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="59"[m[41m[m
[32m+[m[32m                data-display="Shane Grove"[m[41m[m
[32m+[m[32m                data-search="Shane Grove Inmate (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Shane Grove</td>[m[41m[m
[32m+[m[32m                <td>Inmate (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="60"[m[41m[m
[32m+[m[32m                data-display="Rita Hayworth"[m[41m[m
[32m+[m[32m                data-search="Rita Hayworth Gilda Mundson Farrell (archive footage) (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Rita Hayworth</td>[m[41m[m
[32m+[m[32m                <td>Gilda Mundson Farrell (archive footage) (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="61"[m[41m[m
[32m+[m[32m                data-display="David Hecht"[m[41m[m
[32m+[m[32m                data-search="David Hecht Bank Teller"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Bill McKinney</td>[m[41m[m
[32m+[m[32m                <td>Bank Teller</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="62"[m[41m[m
[32m+[m[32m                data-display="Alonzo F. Jones"[m[41m[m
[32m+[m[32m                data-search="Alonzo F. Jones Inmate (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Alonzo F. Jones</td>[m[41m[m
[32m+[m[32m                <td>Inmate (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="63"[m[41m[m
[32m+[m[32m                data-display="Gary Jones"[m[41m[m
[32m+[m[32m                data-search="Gary Jones Convict (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Gary Jones</td>[m[41m[m
[32m+[m[32m                <td>Convict (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="64"[m[41m[m
[32m+[m[32m                data-display="Sergio Kato"[m[41m[m
[32m+[m[32m                data-search="Sergio Kato Inmate II (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Sergio Kato</td>[m[41m[m
[32m+[m[32m                <td>Inmate II (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="65"[m[41m[m
[32m+[m[32m                data-display="Michael Lightsey"[m[41m[m
[32m+[m[32m                data-search="Michael Lightsey Con (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Michael Lightsey</td>[m[41m[m
[32m+[m[32m                <td>Con (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="66"[m[41m[m
[32m+[m[32m                data-display="Tracy Love"[m[41m[m
[32m+[m[32m                data-search="Tracy Love Court Spectator (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Tracy Love</td>[m[41m[m
[32m+[m[32m                <td>Court Spectator (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="67"[m[41m[m
[32m+[m[32m                data-display="George Macready"[m[41m[m
[32m+[m[32m                data-search="George Macready Ballin Mundson (archive footage) (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>George Macready</td>[m[41m[m
[32m+[m[32m                <td>Ballin Mundson (archive footage) (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="68"[m[41m[m
[32m+[m[32m                data-display="Christopher Page"[m[41m[m
[32m+[m[32m                data-search="Christopher Page Traffic (driver) (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Christopher Page</td>[m[41m[m
[32m+[m[32m                <td>Traffic (driver) (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="69"[m[41m[m
[32m+[m[32m                data-display="Neil Riddaway"[m[41m[m
[32m+[m[32m                data-search="Neil Riddaway Con (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Neil Riddaway</td>[m[41m[m
[32m+[m[32m                <td>Con (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="70"[m[41m[m
[32m+[m[32m                data-display="Brad Spencer"[m[41m[m
[32m+[m[32m                data-search="Brad Spencer 1957 Parole Hearings Guard (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Brad Spencer</td>[m[41m[m
[32m+[m[32m                <td>1957 Parole Hearings Guard (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="71"[m[41m[m
[32m+[m[32m                data-display="Jodiviah Stepp"[m[41m[m
[32m+[m[32m                data-search="Jodiviah Stepp New Fish Con (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Jodiviah Stepp</td>[m[41m[m
[32m+[m[32m                <td>New Fish Con (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="72"[m[41m[m
[32m+[m[32m                data-display="Mark A. Strain"[m[41m[m
[32m+[m[32m                data-search="Mark A. Strain Yard Inmate (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Mark A. Strain</td>[m[41m[m
[32m+[m[32m                <td>Yard Inmate (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="73"[m[41m[m
[32m+[m[32m                data-display="James Babson"[m[41m[m
[32m+[m[32m                data-search="James Babson Con (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>James Babson</td>[m[41m[m
[32m+[m[32m                <td>Con (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="74"[m[41m[m
[32m+[m[32m                data-display="Dennis Baker"[m[41m[m
[32m+[m[32m                data-search="Dennis Baker Old Man on Bus (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Dennis Baker</td>[m[41m[m
[32m+[m[32m                <td>Old Man on Bus (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="75"[m[41m[m
[32m+[m[32m                data-display="Fred Culbertson"[m[41m[m
[32m+[m[32m                data-search="Fred Culbertson Police Officer (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Fred Culbertson</td>[m[41m[m
[32m+[m[32m                <td>Police Officer (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="76"[m[41m[m
[32m+[m[32m                data-display="Richard Doone"[m[41m[m
[32m+[m[32m                data-search="Richard Doone Con (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Richard Doone</td>[m[41m[m
[32m+[m[32m                <td>Con (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="77"[m[41m[m
[32m+[m[32m                data-display="Samantha Goldberg"[m[41m[m
[32m+[m[32m                data-search="Samantha Goldberg Bank Employee (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Samantha Goldberg</td>[m[41m[m
[32m+[m[32m                <td>Bank Employee (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="78"[m[41m[m
[32m+[m[32m                data-display="Shane Grove"[m[41m[m
[32m+[m[32m                data-search="Shane Grove Inmate (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Shane Grove</td>[m[41m[m
[32m+[m[32m                <td>Inmate (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="79"[m[41m[m
[32m+[m[32m                data-display="Rita Hayworth"[m[41m[m
[32m+[m[32m                data-search="Rita Hayworth Gilda Mundson Farrell (archive footage) (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Rita Hayworth</td>[m[41m[m
[32m+[m[32m                <td>Gilda Mundson Farrell (archive footage) (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="80"[m[41m[m
[32m+[m[32m                data-display="David Hecht"[m[41m[m
[32m+[m[32m                data-search="David Hecht Bank Teller"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>David Hecht</td>[m[41m[m
[32m+[m[32m                <td>Bank Teller</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="81"[m[41m[m
[32m+[m[32m                data-display="Alonzo F. Jones"[m[41m[m
[32m+[m[32m                data-search="Alonzo F. Jones Inmate (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Alonzo F. Jones</td>[m[41m[m
[32m+[m[32m                <td>Inmate (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="82"[m[41m[m
[32m+[m[32m                data-display="Gary Jones"[m[41m[m
[32m+[m[32m                data-search="Gary Jones Convict (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Gary Jones</td>[m[41m[m
[32m+[m[32m                <td>Convict (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="83"[m[41m[m
[32m+[m[32m                data-display="Sergio Kato"[m[41m[m
[32m+[m[32m                data-search="Sergio Kato Inmate II (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Sergio Kato</td>[m[41m[m
[32m+[m[32m                <td>Inmate II (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="84"[m[41m[m
[32m+[m[32m                data-display="Michael Lightsey"[m[41m[m
[32m+[m[32m                data-search="Michael Lightsey Con (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Michael Lightsey</td>[m[41m[m
[32m+[m[32m                <td>Con (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="85"[m[41m[m
[32m+[m[32m                data-display="Tracy Love"[m[41m[m
[32m+[m[32m                data-search="Tracy Love Court Spectator (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Tracy Love</td>[m[41m[m
[32m+[m[32m                <td>Court Spectator (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="86"[m[41m[m
[32m+[m[32m                data-display="George Macready"[m[41m[m
[32m+[m[32m                data-search="George Macready Ballin Mundson (archive footage) (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>George Macready</td>[m[41m[m
[32m+[m[32m                <td>Ballin Mundson (archive footage) (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="87"[m[41m[m
[32m+[m[32m                data-display="Christopher Page"[m[41m[m
[32m+[m[32m                data-search="Christopher Page Traffic (driver) (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Christopher Page</td>[m[41m[m
[32m+[m[32m                <td>Traffic (driver) (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="88"[m[41m[m
[32m+[m[32m                data-display="Neil Riddaway"[m[41m[m
[32m+[m[32m                data-search="Neil Riddaway Con (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Neil Riddaway</td>[m[41m[m
[32m+[m[32m                <td>Con (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="89"[m[41m[m
[32m+[m[32m                data-display="Brad Spencer"[m[41m[m
[32m+[m[32m                data-search="Brad Spencer 1957 Parole Hearings Guard (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Brad Spencer</td>[m[41m[m
[32m+[m[32m                <td>1957 Parole Hearings Guard (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="90"[m[41m[m
[32m+[m[32m                data-display="Jodiviah Stepp"[m[41m[m
[32m+[m[32m                data-search="Jodiviah Stepp New Fish Con (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Jodiviah Stepp</td>[m[41m[m
[32m+[m[32m                <td>New Fish Con (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m              <tr[m[41m[m
[32m+[m[32m                data-value="91"[m[41m[m
[32m+[m[32m                data-display="Mark A. Strain"[m[41m[m
[32m+[m[32m                data-search="Mark A. Strain Yard Inmate (uncredited)"[m[41m[m
[32m+[m[32m              >[m[41m[m
[32m+[m[32m                <td>Mark A. Strain</td>[m[41m[m
[32m+[m[32m                <td>Yard Inmate (uncredited)</td>[m[41m[m
[32m+[m[32m              </tr>[m[41m[m
[32m+[m[32m            </tbody>[m[41m[m
[32m+[m[32m          </table>[m[41m[m
[32m+[m[32m        </combobox-framework>[m[41m[m
[32m+[m[32m      </section>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m      <section>[m[41m[m
[32m+[m[32m        <h2 id="examples">Examples</h2>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <nav>[m[41m[m
[32m+[m[32m          <a href="#simple-list">Simple list</a>[m[41m[m
[32m+[m[32m          <a href="#simple-list-with-custom-display-data"[m[41m[m
[32m+[m[32m            >Simple list with custom display data</a[m[41m[m
[32m+[m[32m          >[m[41m[m
[32m+[m[32m          <a href="#list-with-nested-elements">List with nested elements</a>[m[41m[m
[32m+[m[32m          <a href="#tabular-data">Tabular data</a>[m[41m[m
[32m+[m[32m          <a href="#preselected-option">Preselected option</a>[m[41m[m
[32m+[m[32m          <a href="#custom-fusefuzzy-search-options"[m[41m[m
[32m+[m[32m            >Custom Fuse/Fuzzy search options</a[m[41m[m
[32m+[m[32m          >[m[41m[m
[32m+[m[32m          <a href="#force-valuelistbox">Force value/Listbox</a>[m[41m[m
[32m+[m[32m          <a href="#limit-suggested-options">Limit suggested options</a>[m[41m[m
[32m+[m[32m          <a href="#weighted-item-search">Weighted item search</a>[m[41m[m
[32m+[m[32m          <a href="#change-events">Change events</a>[m[41m[m
[32m+[m[32m        </nav>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <section id="simple-list">[m[41m[m
[32m+[m[32m          <h3>Simple list</h3>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <p>[m[41m[m
[32m+[m[32m            To use the combobox-framework, you need to add a[m[41m[m
[32m+[m[32m            <code>input</code> element and a list of items. The[m[41m[m
[32m+[m[32m            <code>input</code> element needs to be placed in a[m[41m[m
[32m+[m[32m            <code>slot="input"</code> attribute and the list of items needs to[m[41m[m
[32m+[m[32m            be placed in a <code>slot="list"</code> attribute.[m[41m[m
[32m+[m[32m          </p>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <p>[m[41m[m
[32m+[m[32m            The <code>li</code> elements needs to have a[m[41m[m
[32m+[m[32m            <code>data-value</code> attribute. This is the value that will be[m[41m[m
[32m+[m[32m            set on the <code>combobox-framework</code> element as the[m[41m[m
[32m+[m[32m            <code>data-value</code> when a option is selected.[m[41m[m
[32m+[m[32m          </p>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <div data-example>[m[41m[m
[32m+[m[32m            <combobox-framework>[m[41m[m
[32m+[m[32m              <input[m[41m[m
[32m+[m[32m                id="simple-list-input"[m[41m[m
[32m+[m[32m                placeholder="Click me"[m[41m[m
[32m+[m[32m                type="text"[m[41m[m
[32m+[m[32m                slot="input"[m[41m[m
[32m+[m[32m              />[m[41m[m
[32m+[m[32m              <ul anchor="simple-list-input" slot="list">[m[41m[m
[32m+[m[32m                <li data-value="1">Item 1</li>[m[41m[m
[32m+[m[32m                <li data-value="2">Item 2</li>[m[41m[m
[32m+[m[32m                <li data-value="3">Item 3</li>[m[41m[m
[32m+[m[32m                <li data-value="4">Item 4</li>[m[41m[m
[32m+[m[32m              </ul>[m[41m[m
[32m+[m[32m            </combobox-framework>[m[41m[m
[32m+[m[32m          </div>[m[41m[m
[32m+[m[32m        </section>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <section id="simple-list-with-custom-display-data">[m[41m[m
[32m+[m[32m          <h3>Simple list with custom display data</h3>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <p>[m[41m[m
[32m+[m[32m            To show diffrent data in the input than in the list, you need to add[m[41m[m
[32m+[m[32m            the[m[41m[m
[32m+[m[32m            <code>data-display</code> attribute to the <code>li</code> element.[m[41m[m
[32m+[m[32m            This is the value that will be shown in the input when a option is[m[41m[m
[32m+[m[32m            selected.[m[41m[m
[32m+[m[32m          </p>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <div data-example>[m[41m[m
[32m+[m[32m            <combobox-framework>[m[41m[m
[32m+[m[32m              <input[m[41m[m
[32m+[m[32m                id="custom-display-data-input"[m[41m[m
[32m+[m[32m                placeholder="Click me"[m[41m[m
[32m+[m[32m                type="text"[m[41m[m
[32m+[m[32m                slot="input"[m[41m[m
[32m+[m[32m              />[m[41m[m
[32m+[m[32m              <ul anchor="custom-display-data-input" slot="list">[m[41m[m
[32m+[m[32m                <li data-value="1" data-display="Item 1">1</li>[m[41m[m
[32m+[m[32m                <li data-value="2" data-display="Item 2">2</li>[m[41m[m
[32m+[m[32m                <li data-value="3" data-display="Item 3">3</li>[m[41m[m
[32m+[m[32m                <li data-value="4" data-display="Item 4">4</li>[m[41m[m
[32m+[m[32m              </ul>[m[41m[m
[32m+[m[32m            </combobox-framework>[m[41m[m
[32m+[m[32m          </div>[m[41m[m
[32m+[m[32m        </section>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <section id="list-with-nested-elements">[m[41m[m
[32m+[m[32m          <h3>List with nested elements</h3>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <p>[m[41m[m
[32m+[m[32m            To use nested elements, you need to add the[m[41m[m
[32m+[m[32m            <code>data-display</code> attribute to the <code>li</code> element.[m[41m[m
[32m+[m[32m            This is the value that will be shown in the input when a option is[m[41m[m
[32m+[m[32m            selected.[m[41m[m
[32m+[m[32m          </p>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <div data-example>[m[41m[m
[32m+[m[32m            <combobox-framework>[m[41m[m
[32m+[m[32m              <input[m[41m[m
[32m+[m[32m                id="nested-elements-input"[m[41m[m
[32m+[m[32m                placeholder="Click me"[m[41m[m
[32m+[m[32m                type="text"[m[41m[m
[32m+[m[32m                slot="input"[m[41m[m
[32m+[m[32m              />[m[41m[m
[32m+[m[32m              <ul anchor="nested-elements-input" slot="list">[m[41m[m
[32m+[m[32m                <li data-value="1" data-display="Item 1">[m[41m[m
[32m+[m[32m                  <div>Item 1</div>[m[41m[m
[32m+[m[32m                </li>[m[41m[m
[32m+[m[32m                <li data-value="2" data-display="Item 2">[m[41m[m
[32m+[m[32m                  <div>Item 2</div>[m[41m[m
[32m+[m[32m                </li>[m[41m[m
[32m+[m[32m                <li data-value="3" data-display="Item 3">[m[41m[m
[32m+[m[32m                  <div>Item 3</div>[m[41m[m
[32m+[m[32m                </li>[m[41m[m
[32m+[m[32m                <li data-value="4" data-display="Item 4">[m[41m[m
[32m+[m[32m                  <div>Item 4</div>[m[41m[m
[32m+[m[32m                </li>[m[41m[m
[32m+[m[32m              </ul>[m[41m[m
[32m+[m[32m            </combobox-framework>[m[41m[m
[32m+[m[32m          </div>[m[41m[m
[32m+[m[32m        </section>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <section id="tabular-data">[m[41m[m
[32m+[m[32m          <h3>Tabular data</h3>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <p>[m[41m[m
[32m+[m[32m            To use tabular data, you need to add the[m[41m[m
[32m+[m[32m            <code>data-list</code> attribute to the <code>tbody</code> element.[m[41m[m
[32m+[m[32m            This will tell the combobox-framework to use the[m[41m[m
[32m+[m[32m            <code>tbody</code> element as the list of items and not the table[m[41m[m
[32m+[m[32m            itself.[m[41m[m
[32m+[m[32m          </p>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <div data-example>[m[41m[m
[32m+[m[32m            <combobox-framework>[m[41m[m
[32m+[m[32m              <input[m[41m[m
[32m+[m[32m                id="tabular-data-input"[m[41m[m
[32m+[m[32m                placeholder="Click me"[m[41m[m
[32m+[m[32m                type="text"[m[41m[m
[32m+[m[32m                slot="input"[m[41m[m
[32m+[m[32m              />[m[41m[m
[32m+[m[32m              <table anchor="tabular-data-input" slot="list">[m[41m[m
[32m+[m[32m                <thead>[m[41m[m
[32m+[m[32m                  <th>Name</th>[m[41m[m
[32m+[m[32m                  <th>Number</th>[m[41m[m
[32m+[m[32m                </thead>[m[41m[m
[32m+[m[32m                <tbody data-list>[m[41m[m
[32m+[m[32m                  <tr data-value="1" data-display="Item 1">[m[41m[m
[32m+[m[32m                    <td>Item</td>[m[41m[m
[32m+[m[32m                    <td>1</td>[m[41m[m
[32m+[m[32m                  </tr>[m[41m[m
[32m+[m[32m                  <tr data-value="2" data-display="Item 2">[m[41m[m
[32m+[m[32m                    <td>Item</td>[m[41m[m
[32m+[m[32m                    <td>2</td>[m[41m[m
[32m+[m[32m                  </tr>[m[41m[m
[32m+[m[32m                  <tr data-value="3" data-display="Item 3">[m[41m[m
[32m+[m[32m                    <td>Item</td>[m[41m[m
[32m+[m[32m                    <td>3</td>[m[41m[m
[32m+[m[32m                  </tr>[m[41m[m
[32m+[m[32m                  <tr data-value="4" data-display="Item 4">[m[41m[m
[32m+[m[32m                    <td>Item</td>[m[41m[m
[32m+[m[32m                    <td>4</td>[m[41m[m
[32m+[m[32m                  </tr>[m[41m[m
[32m+[m[32m                </tbody>[m[41m[m
[32m+[m[32m              </table>[m[41m[m
[32m+[m[32m            </combobox-framework>[m[41m[m
[32m+[m[32m          </div>[m[41m[m
[32m+[m[32m        </section>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <section id="preselected-option">[m[41m[m
[32m+[m[32m          <h3>Preselected option</h3>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <p>[m[41m[m
[32m+[m[32m            To preselect a option, you need to add the[m[41m[m
[32m+[m[32m            <code>data-value</code> attribute to the[m[41m[m
[32m+[m[32m            <code>combobox-framework</code> element. This will tell the[m[41m[m
[32m+[m[32m            combobox-framework to select the option with the matching[m[41m[m
[32m+[m[32m            <code>data-value</code> attribute.[m[41m[m
[32m+[m[32m          </p>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <div data-example>[m[41m[m
[32m+[m[32m            <combobox-framework data-value="1">[m[41m[m
[32m+[m[32m              <input[m[41m[m
[32m+[m[32m                id="preselected-option-input"[m[41m[m
[32m+[m[32m                placeholder="Click me"[m[41m[m
[32m+[m[32m                type="text"[m[41m[m
[32m+[m[32m                slot="input"[m[41m[m
[32m+[m[32m              />[m[41m[m
[32m+[m[32m              <ul anchor="preselected-option-input" slot="list">[m[41m[m
[32m+[m[32m                <li data-value="1">Item 1</li>[m[41m[m
[32m+[m[32m                <li data-value="2">Item 2</li>[m[41m[m
[32m+[m[32m                <li data-value="3">Item 3</li>[m[41m[m
[32m+[m[32m                <li data-value="4">Item 4</li>[m[41m[m
[32m+[m[32m              </ul>[m[41m[m
[32m+[m[32m            </combobox-framework>[m[41m[m
[32m+[m[32m          </div>[m[41m[m
[32m+[m[32m        </section>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <section id="custom-fusefuzzy-search-options">[m[41m[m
[32m+[m[32m          <h3>Custom Fuse/Fuzzy search options</h3>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <p>[m[41m[m
[32m+[m[32m            To use custom fuse/fuzzy search options, you need to add the[m[41m[m
[32m+[m[32m            <code>data-fuse-options</code> attribute to the[m[41m[m
[32m+[m[32m            <code>combobox-framework</code> element, and pass in a JSON string[m[41m[m
[32m+[m[32m            of the settings object. This will tell the combobox-framework to use[m[41m[m
[32m+[m[32m            the custom options when searching for a option.[m[41m[m
[32m+[m[32m          </p>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <p>[m[41m[m
[32m+[m[32m            For what options are available, see the[m[41m[m
[32m+[m[32m            <a href="https://www.fusejs.io/api/options.html"[m[41m[m
[32m+[m[32m              >Fuse.js documentation</a[m[41m[m
[32m+[m[32m            >[m[41m[m
[32m+[m[32m          </p>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <div data-example>[m[41m[m
[32m+[m[32m            <combobox-framework[m[41m[m
[32m+[m[32m              data-fuse-options='{ "includeScore": true, "keys": ["dataset.value"]}'[m[41m[m
[32m+[m[32m            >[m[41m[m
[32m+[m[32m              <input[m[41m[m
[32m+[m[32m                id="fuse-options-input"[m[41m[m
[32m+[m[32m                placeholder="Click me"[m[41m[m
[32m+[m[32m                type="text"[m[41m[m
[32m+[m[32m                slot="input"[m[41m[m
[32m+[m[32m              />[m[41m[m
[32m+[m[32m              <ul anchor="fuse-options-input" slot="list">[m[41m[m
[32m+[m[32m                <li data-value="1">Item 1</li>[m[41m[m
[32m+[m[32m                <li data-value="2">Item 2</li>[m[41m[m
[32m+[m[32m                <li data-value="3">Item 3</li>[m[41m[m
[32m+[m[32m                <li data-value="4">Item 4</li>[m[41m[m
[32m+[m[32m              </ul>[m[41m[m
[32m+[m[32m            </combobox-framework>[m[41m[m
[32m+[m[32m          </div>[m[41m[m
[32m+[m[32m        </section>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <section id="force-valuelistbox">[m[41m[m
[32m+[m[32m          <h3>Force value/Listbox</h3>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <p>[m[41m[m
[32m+[m[32m            To force the combobox-framework to act as a searchable listbox, you[m[41m[m
[32m+[m[32m            need to add the[m[41m[m
[32m+[m[32m            <code>data-listbox</code> attribute to the[m[41m[m
[32m+[m[32m            <code>combobox-framework</code> element. This will tell the[m[41m[m
[32m+[m[32m            combobox-framework to act as a searchable listbox instead of a[m[41m[m
[32m+[m[32m            combobox. And only allow the <code>value</code> to be one of the[m[41m[m
[32m+[m[32m            options in the list or <code>null</code>.[m[41m[m
[32m+[m[32m          </p>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <div data-example>[m[41m[m
[32m+[m[32m            <combobox-framework data-listbox="true">[m[41m[m
[32m+[m[32m              <input[m[41m[m
[32m+[m[32m                id="force-valuelistbox-input"[m[41m[m
[32m+[m[32m                placeholder="Click me"[m[41m[m
[32m+[m[32m                type="text"[m[41m[m
[32m+[m[32m                slot="input"[m[41m[m
[32m+[m[32m              />[m[41m[m
[32m+[m[32m              <ul anchor="force-valuelistbox-input" slot="list">[m[41m[m
[32m+[m[32m                <li data-value="1">Item 1</li>[m[41m[m
[32m+[m[32m                <li data-value="2">Item 2</li>[m[41m[m
[32m+[m[32m                <li data-value="3">Item 3</li>[m[41m[m
[32m+[m[32m                <li data-value="4">Item 4</li>[m[41m[m
[32m+[m[32m              </ul>[m[41m[m
[32m+[m[32m            </combobox-framework>[m[41m[m
[32m+[m[32m          </div>[m[41m[m
[32m+[m[32m        </section>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <section id="limit-suggested-options">[m[41m[m
[32m+[m[32m          <h3>Limit suggested options</h3>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <p>[m[41m[m
[32m+[m[32m            To limit the number of suggested options, you need to add the[m[41m[m
[32m+[m[32m            <code>data-limit</code> attribute to the[m[41m[m
[32m+[m[32m            <code>combobox-framework</code> element. This will tell the[m[41m[m
[32m+[m[32m            combobox-framework to only show the number of options specified in[m[41m[m
[32m+[m[32m            the <code>data-limit</code> attribute.[m[41m[m
[32m+[m[32m          </p>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <div data-example>[m[41m[m
[32m+[m[32m            <combobox-framework data-limit="2">[m[41m[m
[32m+[m[32m              <input[m[41m[m
[32m+[m[32m                id="limit-suggested-options-input"[m[41m[m
[32m+[m[32m                placeholder="Click me"[m[41m[m
[32m+[m[32m                type="text"[m[41m[m
[32m+[m[32m                slot="input"[m[41m[m
[32m+[m[32m              />[m[41m[m
[32m+[m[32m              <ul anchor="limit-suggested-options-input" slot="list">[m[41m[m
[32m+[m[32m                <li data-value="1">Item 1</li>[m[41m[m
[32m+[m[32m                <li data-value="2">Item 2</li>[m[41m[m
[32m+[m[32m                <li data-value="3">Item 3</li>[m[41m[m
[32m+[m[32m                <li data-value="4">Item 4</li>[m[41m[m
[32m+[m[32m              </ul>[m[41m[m
[32m+[m[32m            </combobox-framework>[m[41m[m
[32m+[m[32m          </div>[m[41m[m
[32m+[m[32m        </section>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <section>[m[41m[m
[32m+[m[32m          <h3 id="weighted-item-search">Weighted item search</h3>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <p>[m[41m[m
[32m+[m[32m            To use weighted item search, you need to add the[m[41m[m
[32m+[m[32m            <code>data-weight</code> attribute to the <code>li</code> element.[m[41m[m
[32m+[m[32m            This is the value that will be used to sort the options when[m[41m[m
[32m+[m[32m            searching for a option.[m[41m[m
[32m+[m[32m          </p>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <p>[m[41m[m
[32m+[m[32m            <em[m[41m[m
[32m+[m[32m              >NOTE: Fuse options must have <code>includeScore</code> set to[m[41m[m
[32m+[m[32m              <code>true</code> for weighted search to work.</em[m[41m[m
[32m+[m[32m            >[m[41m[m
[32m+[m[32m            <code>includeScore</code> is true by default, if you have not set[m[41m[m
[32m+[m[32m            custom fuse options.[m[41m[m
[32m+[m[32m          </p>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <p>[m[41m[m
[32m+[m[32m            <em[m[41m[m
[32m+[m[32m              >NOTE: The <code>data-weight</code> attribute is a number, and the[m[41m[m
[32m+[m[32m              higher the number the higher the weight.</em[m[41m[m
[32m+[m[32m            >[m[41m[m
[32m+[m[32m          </p>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <div data-example>[m[41m[m
[32m+[m[32m            <combobox-framework>[m[41m[m
[32m+[m[32m              <input[m[41m[m
[32m+[m[32m                id="weighted-item-search-input"[m[41m[m
[32m+[m[32m                placeholder="Click me"[m[41m[m
[32m+[m[32m                type="text"[m[41m[m
[32m+[m[32m                slot="input"[m[41m[m
[32m+[m[32m              />[m[41m[m
[32m+[m[32m              <ul anchor="weighted-item-search-input" slot="list">[m[41m[m
[32m+[m[32m                <li data-value="1" data-display="Item 1" data-weight="5">[m[41m[m
[32m+[m[32m                  Item 1[m[41m[m
[32m+[m[32m                </li>[m[41m[m
[32m+[m[32m                <li data-value="2" data-display="Item 2" data-weight="1">[m[41m[m
[32m+[m[32m                  Item 2[m[41m[m
[32m+[m[32m                </li>[m[41m[m
[32m+[m[32m                <li data-value="3" data-display="Item 3" data-weight="1">[m[41m[m
[32m+[m[32m                  Item 3[m[41m[m
[32m+[m[32m                </li>[m[41m[m
[32m+[m[32m                <li data-value="4" data-display="Item 4" data-weight="10">[m[41m[m
[32m+[m[32m                  Item 4[m[41m[m
[32m+[m[32m                </li>[m[41m[m
[32m+[m[32m              </ul>[m[41m[m
[32m+[m[32m            </combobox-framework>[m[41m[m
[32m+[m[32m          </div>[m[41m[m
[32m+[m[32m        </section>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <section>[m[41m[m
[32m+[m[32m          <h3 id="change-events">Change events</h3>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <p>[m[41m[m
[32m+[m[32m            To add a change event, you need to add the[m[41m[m
[32m+[m[32m            <code>onchange</code> attribute to the[m[41m[m
[32m+[m[32m            <code>combobox-framework</code> element. This will tell the[m[41m[m
[32m+[m[32m            combobox-framework to run the function when the value of the[m[41m[m
[32m+[m[32m            combobox changes.[m[41m[m
[32m+[m[32m          </p>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          <div data-example>[m[41m[m
[32m+[m[32m            <combobox-framework onchange="console.log('Changed')">[m[41m[m
[32m+[m[32m              <input[m[41m[m
[32m+[m[32m                id="change-events-input"[m[41m[m
[32m+[m[32m                placeholder="Click me"[m[41m[m
[32m+[m[32m                type="text"[m[41m[m
[32m+[m[32m                slot="input"[m[41m[m
[32m+[m[32m              />[m[41m[m
[32m+[m[32m              <ul anchor="change-events-input" slot="list">[m[41m[m
[32m+[m[32m                <li data-value="1">Item 1</li>[m[41m[m
[32m+[m[32m                <li data-value="2">Item 2</li>[m[41m[m
[32m+[m[32m                <li data-value="3">Item 3</li>[m[41m[m
[32m+[m[32m                <li data-value="4">Item 4</li>[m[41m[m
[32m+[m[32m              </ul>[m[41m[m
[32m+[m[32m            </combobox-framework>[m[41m[m
[32m+[m[32m          </div>[m[41m[m
[32m+[m[32m        </section>[m[41m[m
[32m+[m[32m      </section>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m      <section>[m[41m[m
[32m+[m[32m        <h2 id="styling">Styling</h2>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <p>[m[41m[m
[32m+[m[32m          This is the styling thats being used on this demo page. Hopefully it[m[41m[m
[32m+[m[32m          gives a good starting point[m[41m[m
[32m+[m[32m        </p>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <div data-example>[m[41m[m
[32m+[m[32m          <style>[m[41m[m
[32m+[m[32m            combobox-framework [slot='list'] {[m[41m[m
[32m+[m[32m              color: var(--background-color);[m[41m[m
[32m+[m[32m              background-color: var(--text-color);[m[41m[m
[32m+[m[32m              position: absolute;[m[41m[m
[32m+[m[32m              top: anchor(bottom);[m[41m[m
[32m+[m[32m              left: anchor(left);[m[41m[m
[32m+[m[32m              right: anchor(right);[m[41m[m
[32m+[m[32m              list-style: none;[m[41m[m
[32m+[m[32m              margin: 0;[m[41m[m
[32m+[m[32m              padding: 0;[m[41m[m
[32m+[m[32m              border: 1px solid black;[m[41m[m
[32m+[m[32m              border-radius: 0 0 0.2rem 0.2rem;[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            combobox-framework [slot='list'] > * {[m[41m[m
[32m+[m[32m              padding: 0.2rem;[m[41m[m
[32m+[m[32m              cursor: pointer;[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            combobox-framework [slot='list'] li:hover,[m[41m[m
[32m+[m[32m            combobox-framework [slot='list'] tr:hover td {[m[41m[m
[32m+[m[32m              background-color: var(--primary-color);[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[32m          </style>[m[41m[m
[32m+[m[32m        </div>[m[41m[m
[32m+[m[32m      </section>[m[41m[m
[32m+[m[32m    </article>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    <script type="module" src="https://unpkg.com/combobox-framework"></script>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    <script>[m[41m[m
[32m+[m[32m      const examples = document.querySelectorAll('[data-example]');[m[41m[m
[32m+[m[32m      for (const example of examples) {[m[41m[m
[32m+[m[32m        let exampleContent = example.innerHTML.trimEnd();[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        // Remove leading and ending newlines[m[41m[m
[32m+[m[32m        if (exampleContent.startsWith('\n'))[m[41m[m
[32m+[m[32m          exampleContent = exampleContent.slice(1);[m[41m[m
[32m+[m[32m        if (exampleContent.endsWith('\n'))[m[41m[m
[32m+[m[32m          exampleContent = exampleContent.slice(exampleContent.length, 1);[m[41m[m
[32m+[m[32m        // end - Remove leading and ending newlines[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        // Replace < and > with &lt; and &gt;[m[41m[m
[32m+[m[32m        exampleContent = exampleContent[m[41m[m
[32m+[m[32m          .replace(/</g, '&lt;')[m[41m[m
[32m+[m[32m          .replace(/>/g, '&gt;');[m[41m[m
[32m+[m[32m        // end - Replace < and > with &lt; and &gt;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        // Remove leading spaces[m[41m[m
[32m+[m[32m        leadingSpaces = exampleContent.match(/^\s+/);[m[41m[m
[32m+[m[32m        if (leadingSpaces) {[m[41m[m
[32m+[m[32m          exampleContent = exampleContent.replace([m[41m[m
[32m+[m[32m            new RegExp(`^${leadingSpaces[0]}`, 'gm'),[m[41m[m
[32m+[m[32m            ''[m[41m[m
[32m+[m[32m          );[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[32m        // end - Remove leading spaces[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        // Add pre and code tags[m[41m[m
[32m+[m[32m        pre = document.createElement('pre');[m[41m[m
[32m+[m[32m        pre.innerHTML = `<code>${exampleContent}</code>`;[m[41m[m
[32m+[m[32m        example.appendChild(pre);[m[41m[m
[32m+[m[32m        // end - Add pre and code tags[m[41m[m
[32m+[m[32m      }[m[41m[m
[32m+[m[32m    </script>[m[41m[m
[32m+[m[32m    <script>[m[41m[m
[32m+[m[32m      hljs.highlightAll();[m[41m[m
[32m+[m[32m    </script>[m[41m[m
[32m+[m[32m  </body>[m[41m[m
[32m+[m[32m</html>[m[41m[m
[1mdiff --git a/docs/styles/style.css b/docs/styles/style.css[m
[1mindex 3c76714..c74d1b3 100644[m
[1m--- a/docs/styles/style.css[m
[1m+++ b/docs/styles/style.css[m
[36m@@ -1,119 +1,119 @@[m
[31m-/*[m
[31m-Hey there! 👋[m
[31m-Are you looking for the CSS for the combobox? [m
[31m-You can find it in the index.html file, in the <style> tag, in the Styling section.[m
[31m-[m
[31m-The styles in this file are only for the page, not the combobox behavior or look.[m
[31m-*/[m
[31m-[m
[31m-/* Page styling */[m
[31m-:root {[m
[31m-    --primary-color: #4cb5ae;[m
[31m-    --primary-color-dark: #3a8c87;[m
[31m-    --text-color: #f7f7ff;[m
[31m-    --background-color: #111;[m
[31m-    --background-color-dark: #000;[m
[31m-}[m
[31m-[m
[31m-::selection {[m
[31m-    background: var(--primary-color);[m
[31m-    color: var(--background-color-dark);[m
[31m-}[m
[31m-[m
[31m-/* width */[m
[31m-::-webkit-scrollbar {[m
[31m-    width: 10px;[m
[31m-    height: 10px;[m
[31m-}[m
[31m-[m
[31m-/* Track */[m
[31m-::-webkit-scrollbar-track {[m
[31m-    border-radius: 100vw;[m
[31m-    background: var(--background-color-dark);[m
[31m-}[m
[31m-[m
[31m-/* Handle */[m
[31m-::-webkit-scrollbar-thumb {[m
[31m-    border-radius: 100vw;[m
[31m-    background: var(--primary-color);[m
[31m-}[m
[31m-[m
[31m-/* Handle on hover */[m
[31m-::-webkit-scrollbar-thumb:hover {[m
[31m-    background: var(--primary-color-dark);[m
[31m-}[m
[31m-[m
[31m-body {[m
[31m-    background-color: var(--background-color);[m
[31m-    color: var(--text-color);[m
[31m-    padding: min(2.5rem, 5vw);[m
[31m-    font-family: "Atkinson Hyperlegible", sans-serif;[m
[31m-    max-width: min(80ch, 100dvw);[m
[31m-    margin: 0 auto;[m
[31m-}[m
[31m-[m
[31m-h1,[m
[31m-h2,[m
[31m-h3,[m
[31m-h4,[m
[31m-h5,[m
[31m-h6 {[m
[31m-    font-family: "Source Code Pro", monospace;[m
[31m-}[m
[31m-[m
[31m-h1 {[m
[31m-    font-size: clamp(min(11vw, 3rem), 11vw, 3rem);[m
[31m-}[m
[31m-[m
[31m-nav {[m
[31m-    display: flex;[m
[31m-    flex-wrap: wrap;[m
[31m-    align-items: center;[m
[31m-    gap: 1rem;[m
[31m-}[m
[31m-[m
[31m-a {[m
[31m-    color: var(--primary-color);[m
[31m-}[m
[31m-[m
[31m-pre {[m
[31m-    background-color: var(--background-color-dark);[m
[31m-    color: var(--text-color);[m
[31m-    display: block;[m
[31m-    border-radius: 0.5rem;[m
[31m-    font-family: "Source Code Pro", monospace;[m
[31m-    max-width: 90%;[m
[31m-    overflow-x: auto;[m
[31m-}[m
[31m-[m
[31m-code {[m
[31m-    font-family: "Source Code Pro", monospace;[m
[31m-}[m
[31m-[m
[31m-:not(combobox-framework) > ul {[m
[31m-    list-style: none;[m
[31m-    padding-inline-start: 1.5rem;[m
[31m-}[m
[31m-[m
[31m-:not(combobox-framework) > ul li {[m
[31m-    margin-block: 1rem;[m
[31m-}[m
[31m-[m
[31m-.features li {[m
[31m-    padding-left: 0.5ch;[m
[31m-}[m
[31m-[m
[31m-.features .accessible::marker {[m
[31m-    content: "🌟";[m
[31m-}[m
[31m-[m
[31m-.features .styling::marker {[m
[31m-    content: "🎨";[m
[31m-}[m
[31m-[m
[31m-section:has(h2):not(:has(h3)),[m
[31m-section:not(:has(h2)):has(h3) {[m
[31m-    border-left: 5px solid var(--primary-color);[m
[31m-    padding-left: 2rem;[m
[31m-    margin-left: -2rem;[m
[31m-}[m
[32m+[m[32m/*[m[41m[m
[32m+[m[32mHey there! 👋[m[41m[m
[32m+[m[32mAre you looking for the CSS for the combobox?[m[41m [m
[32m+[m[32mYou can find it in the index.html file, in the <style> tag, in the Styling section.[m[41m[m
[32m+[m[41m[m
[32m+[m[32mThe styles in this file are only for the page, not the combobox behavior or look.[m[41m[m
[32m+[m[32m*/[m[41m[m
[32m+[m[41m[m
[32m+[m[32m/* Page styling */[m[41m[m
[32m+[m[32m:root {[m[41m[m
[32m+[m[32m  --primary-color: #4cb5ae;[m[41m[m
[32m+[m[32m  --primary-color-dark: #3a8c87;[m[41m[m
[32m+[m[32m  --text-color: #f7f7ff;[m[41m[m
[32m+[m[32m  --background-color: #111;[m[41m[m
[32m+[m[32m  --background-color-dark: #000;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32m::selection {[m[41m[m
[32m+[m[32m  background: var(--primary-color);[m[41m[m
[32m+[m[32m  color: var(--background-color-dark);[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32m/* width */[m[41m[m
[32m+[m[32m::-webkit-scrollbar {[m[41m[m
[32m+[m[32m  width: 10px;[m[41m[m
[32m+[m[32m  height: 10px;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32m/* Track */[m[41m[m
[32m+[m[32m::-webkit-scrollbar-track {[m[41m[m
[32m+[m[32m  border-radius: 100vw;[m[41m[m
[32m+[m[32m  background: var(--background-color-dark);[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32m/* Handle */[m[41m[m
[32m+[m[32m::-webkit-scrollbar-thumb {[m[41m[m
[32m+[m[32m  border-radius: 100vw;[m[41m[m
[32m+[m[32m  background: var(--primary-color);[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32m/* Handle on hover */[m[41m[m
[32m+[m[32m::-webkit-scrollbar-thumb:hover {[m[41m[m
[32m+[m[32m  background: var(--primary-color-dark);[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mbody {[m[41m[m
[32m+[m[32m  background-color: var(--background-color);[m[41m[m
[32m+[m[32m  color: var(--text-color);[m[41m[m
[32m+[m[32m  padding: min(2.5rem, 5vw);[m[41m[m
[32m+[m[32m  font-family: 'Atkinson Hyperlegible', sans-serif;[m[41m[m
[32m+[m[32m  max-width: min(80ch, 100dvw);[m[41m[m
[32m+[m[32m  margin: 0 auto;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mh1,[m[41m[m
[32m+[m[32mh2,[m[41m[m
[32m+[m[32mh3,[m[41m[m
[32m+[m[32mh4,[m[41m[m
[32m+[m[32mh5,[m[41m[m
[32m+[m[32mh6 {[m[41m[m
[32m+[m[32m  font-family: 'Source Code Pro', monospace;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mh1 {[m[41m[m
[32m+[m[32m  font-size: clamp(min(11vw, 3rem), 11vw, 3rem);[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mnav {[m[41m[m
[32m+[m[32m  display: flex;[m[41m[m
[32m+[m[32m  flex-wrap: wrap;[m[41m[m
[32m+[m[32m  align-items: center;[m[41m[m
[32m+[m[32m  gap: 1rem;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32ma {[m[41m[m
[32m+[m[32m  color: var(--primary-color);[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mpre {[m[41m[m
[32m+[m[32m  background-color: var(--background-color-dark);[m[41m[m
[32m+[m[32m  color: var(--text-color);[m[41m[m
[32m+[m[32m  display: block;[m[41m[m
[32m+[m[32m  border-radius: 0.5rem;[m[41m[m
[32m+[m[32m  font-family: 'Source Code Pro', monospace;[m[41m[m
[32m+[m[32m  max-width: 90%;[m[41m[m
[32m+[m[32m  overflow-x: auto;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mcode {[m[41m[m
[32m+[m[32m  font-family: 'Source Code Pro', monospace;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32m:not(combobox-framework) > ul {[m[41m[m
[32m+[m[32m  list-style: none;[m[41m[m
[32m+[m[32m  padding-inline-start: 1.5rem;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32m:not(combobox-framework) > ul li {[m[41m[m
[32m+[m[32m  margin-block: 1rem;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32m.features li {[m[41m[m
[32m+[m[32m  padding-left: 0.5ch;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32m.features .accessible::marker {[m[41m[m
[32m+[m[32m  content: '🌟';[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32m.features .styling::marker {[m[41m[m
[32m+[m[32m  content: '🎨';[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32msection:has(h2):not(:has(h3)),[m[41m[m
[32m+[m[32msection:not(:has(h2)):has(h3) {[m[41m[m
[32m+[m[32m  border-left: 5px solid var(--primary-color);[m[41m[m
[32m+[m[32m  padding-left: 2rem;[m[41m[m
[32m+[m[32m  margin-left: -2rem;[m[41m[m
[32m+[m[32m}[m[41m[m
[1mdiff --git a/package.json b/package.json[m
[1mindex f0592f7..5bc4571 100644[m
[1m--- a/package.json[m
[1m+++ b/package.json[m
[36m@@ -1,48 +1,48 @@[m
[31m-{[m
[31m-    "version": "1.4.3",[m
[31m-    "name": "combobox-framework",[m
[31m-    "description": "A framework for building comboboxes",[m
[31m-    "keywords": [[m
[31m-        "combobox",[m
[31m-        "Web Component",[m
[31m-        "ARIA",[m
[31m-        "accessibility",[m
[31m-        "autocomplete",[m
[31m-        "Al11y",[m
[31m-        "WCAG"[m
[31m-    ],[m
[31m-    "homepage": "https://github.com/klovaaxel/combobox-framework",[m
[31m-    "bugs": {[m
[31m-        "url": "https://github.com/klovaaxel/combobox-framework/issues",[m
[31m-        "email": "klovakarlsson@gmail.com"[m
[31m-    },[m
[31m-    "license": "SEE LICENSE IN FILE",[m
[31m-    "author": "klovaaxel",[m
[31m-    "browser": "dist/combobox-framework.js",[m
[31m-    "types": "dist/combobox-framework.d.ts",[m
[31m-    "type": "module",[m
[31m-    "repository": {[m
[31m-        "type": "git",[m
[31m-        "url": "git+https://github.com/klovaaxel/combobox-framework.git"[m
[31m-    },[m
[31m-    "files": ["dist/**"],[m
[31m-    "scripts": {[m
[31m-        "dev": "cypress open --component",[m
[31m-        "build": "bun lint; tsc && bun run build.mjs; cypress run --component; bun dev-tools/filesize.ts; echo \"Done! Don't forget to update the version number in package.json\"",[m
[31m-        "lint": "bunx biome lint --write *.json; bunx biome lint --write ./src"[m
[31m-    },[m
[31m-    "devDependencies": {[m
[31m-        "@biomejs/biome": "^1.5.3",[m
[31m-        "@types/cypress": "^1.1.3",[m
[31m-        "bun-plugin-dts": "^0.2.1",[m
[31m-        "cypress": "^13.7.2",[m
[31m-        "cypress-ct-html": "^1.1.0",[m
[31m-        "fs": "^0.0.1-security",[m
[31m-        "path": "^0.12.7",[m
[31m-        "typescript": "^5.2.2",[m
[31m-        "vite": "^5.2.8"[m
[31m-    },[m
[31m-    "dependencies": {[m
[31m-        "fuse.js": "^7.0.0"[m
[31m-    }[m
[31m-}[m
[32m+[m[32m{[m[41m[m
[32m+[m[32m    "version": "1.4.3",[m[41m[m
[32m+[m[32m    "name": "combobox-framework",[m[41m[m
[32m+[m[32m    "description": "A framework for building comboboxes",[m[41m[m
[32m+[m[32m    "keywords": [[m[41m[m
[32m+[m[32m        "combobox",[m[41m[m
[32m+[m[32m        "Web Component",[m[41m[m
[32m+[m[32m        "ARIA",[m[41m[m
[32m+[m[32m        "accessibility",[m[41m[m
[32m+[m[32m        "autocomplete",[m[41m[m
[32m+[m[32m        "Al11y",[m[41m[m
[32m+[m[32m        "WCAG"[m[41m[m
[32m+[m[32m    ],[m[41m[m
[32m+[m[32m    "homepage": "https://github.com/klovaaxel/combobox-framework",[m[41m[m
[32m+[m[32m    "bugs": {[m[41m[m
[32m+[m[32m        "url": "https://github.com/klovaaxel/combobox-framework/issues",[m[41m[m
[32m+[m[32m        "email": "klovakarlsson@gmail.com"[m[41m[m
[32m+[m[32m    },[m[41m[m
[32m+[m[32m    "license": "SEE LICENSE IN FILE",[m[41m[m
[32m+[m[32m    "author": "klovaaxel",[m[41m[m
[32m+[m[32m    "browser": "dist/combobox-framework.js",[m[41m[m
[32m+[m[32m    "types": "dist/combobox-framework.d.ts",[m[41m[m
[32m+[m[32m    "type": "module",[m[41m[m
[32m+[m[32m    "repository": {[m[41m[m
[32m+[m[32m        "type": "git",[m[41m[m
[32m+[m[32m        "url": "git+https://github.com/klovaaxel/combobox-framework.git"[m[41m[m
[32m+[m[32m    },[m[41m[m
[32m+[m[32m    "files": [[m[41m[m
[32m+[m[32m        "dist/**"[m[41m[m
[32m+[m[32m    ],[m[41m[m
[32m+[m[32m    "scripts": {[m[41m[m
[32m+[m[32m        "dev": "cypress open --component",[m[41m[m
[32m+[m[32m        "build": "tsc && bun run build.mjs; cypress run --component; bun dev-tools/filesize.ts; echo \"Done! Don't forget to update the version number in package.json\""[m[41m[m
[32m+[m[32m    },[m[41m[m
[32m+[m[32m    "devDependencies": {[m[41m[m
[32m+[m[32m        "@types/cypress": "^1.1.3",[m[41m[m
[32m+[m[32m        "bun-plugin-dts": "^0.2.1",[m[41m[m
[32m+[m[32m        "cypress": "^13.7.2",[m[41m[m
[32m+[m[32m        "cypress-ct-html": "^1.1.0",[m[41m[m
[32m+[m[32m        "fs": "^0.0.1-security",[m[41m[m
[32m+[m[32m        "path": "^0.12.7",[m[41m[m
[32m+[m[32m        "typescript": "^5.2.2",[m[41m[m
[32m+[m[32m        "vite": "^5.2.8"[m[41m[m
[32m+[m[32m    },[m[41m[m
[32m+[m[32m    "dependencies": {[m[41m[m
[32m+[m[32m        "fuse.js": "^7.0.0"[m[41m[m
[32m+[m[32m    }[m[41m[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/src/combobox-framework.ts b/src/combobox-framework.ts[m
[1mindex 43009c5..ed6f3ec 100644[m
[1m--- a/src/combobox-framework.ts[m
[1m+++ b/src/combobox-framework.ts[m
[36m@@ -1,360 +1,399 @@[m
[31m-import Fuse, { type FuseResult } from "fuse.js";[m
[31m-import { handleBlur, handleComboBoxKeyPress, handleKeyUp, handleListKeyPress } from "./handlers";[m
[31m-import { setBasicAttributes } from "./helpers";[m
[31m-[m
[31m-export default class ComboboxFramework extends HTMLElement {[m
[31m-    public isAltModifierPressed = false;[m
[31m-    public shouldForceValue = false;[m
[31m-    public lastValue: string | undefined = undefined;[m
[31m-    public limit: number = Number.POSITIVE_INFINITY;[m
[31m-[m
[31m-    public get list(): HTMLElement | null {[m
[31m-        if (this._list) return this._list;[m
[31m-        this._list = this.querySelector('[slot="list"] [data-list]') as HTMLElement;[m
[31m-        if (!this._list) this._list = this.querySelector('[slot="list"]') as HTMLElement;[m
[31m-        if (!this._list) return null;[m
[31m-[m
[31m-        this._originalList ??= this._list.cloneNode(true) as HTMLElement;[m
[31m-        return this._list;[m
[31m-    }[m
[31m-[m
[31m-    public set list(value: HTMLElement | null) {[m
[31m-        this._list = value;[m
[31m-    }[m
[31m-[m
[31m-    public get input(): HTMLInputElement | null {[m
[31m-        if (this._input) return this._input;[m
[31m-        const input = this.querySelector('[slot="input"]') as HTMLInputElement;[m
[31m-        if (!input) return null;[m
[31m-        this._input = input;[m
[31m-[m
[31m-        return this._input;[m
[31m-    }[m
[31m-[m
[31m-    public set input(value: HTMLInputElement | null) {[m
[31m-        this._input = value;[m
[31m-    }[m
[31m-[m
[31m-    public get listContainer(): HTMLElement | null {[m
[31m-        if (this._listContainer) return this._listContainer;[m
[31m-        this._listContainer = this.querySelector('[slot="list"]') as HTMLElement;[m
[31m-        return this._listContainer;[m
[31m-    }[m
[31m-[m
[31m-    public set listContainer(value: HTMLElement | null) {[m
[31m-        this._listContainer = value;[m
[31m-    }[m
[31m-[m
[31m-    public get originalList(): HTMLElement | null {[m
[31m-        if (this._originalList) return this._originalList;[m
[31m-        this._originalList = this.list?.cloneNode(true) as HTMLElement;[m
[31m-        return this._originalList;[m
[31m-    }[m
[31m-[m
[31m-    public set originalList(value: HTMLElement | null) {[m
[31m-        this._originalList = value;[m
[31m-    }[m
[31m-[m
[31m-    private _list: HTMLElement | null = null;[m
[31m-    private _input: HTMLInputElement | null = null;[m
[31m-    private _listContainer: HTMLElement | null = null;[m
[31m-    private _originalList: HTMLElement | null = null;[m
[31m-[m
[31m-    // #region Fuzzy search Fuse.js[m
[31m-    public get fuse(): Fuse<Element> {[m
[31m-        if (!this._fuse) this._fuse = this.initFuseObj();[m
[31m-        return this._fuse;[m
[31m-    }[m
[31m-[m
[31m-    public _fuseOptions = {[m
[31m-        includeScore: true,[m
[31m-        keys: ["dataset.display", "dataset.value", "innerText"],[m
[31m-    };[m
[31m-[m
[31m-    private _fuse: Fuse<Element> | null = null;[m
[31m-    // #endregion[m
[31m-[m
[31m-    private abortController = new AbortController();[m
[31m-    private initFuseObj = () => {[m
[31m-        if (!this.originalList) return new Fuse([], this._fuseOptions);[m
[31m-[m
[31m-        const elementArray = Array.from((this.originalList.cloneNode(true) as HTMLElement).children);[m
[31m-[m
[31m-        return new Fuse(Array.from(elementArray), this._fuseOptions);[m
[31m-    };[m
[31m-[m
[31m-    constructor() {[m
[31m-        super();[m
[31m-[m
[31m-        this.abortController ??= new AbortController();[m
[31m-        this.attachShadow({ mode: "open" });[m
[31m-    }[m
[31m-[m
[31m-    static get observedAttributes(): string[] {[m
[31m-        return ["data-value", "data-fuse-options", "data-listbox", "data-limit"];[m
[31m-    }[m
[31m-[m
[31m-    public attributeChangedCallback(name: string, oldValue: string, newValue: string): void {[m
[31m-        if (oldValue === newValue) return;[m
[31m-[m
[31m-        switch (name) {[m
[31m-            case "data-value":[m
[31m-                this.selectItemByValue(newValue, false);[m
[31m-                break;[m
[31m-            case "data-fuse-options":[m
[31m-                this._fuseOptions = JSON.parse(newValue);[m
[31m-                this._fuse = this.initFuseObj();[m
[31m-                this.searchList();[m
[31m-                break;[m
[31m-            case "data-listbox":[m
[31m-                if (newValue.toLowerCase() === "false") this.shouldForceValue = false;[m
[31m-                else this.shouldForceValue = !!newValue;[m
[31m-                break;[m
[31m-            case "data-limit":[m
[31m-                this.limit = Number.parseInt(newValue);[m
[31m-                break;[m
[31m-        }[m
[31m-    }[m
[31m-[m
[31m-    public connectedCallback(): void {[m
[31m-        const shadow = this.shadowRoot as ShadowRoot;[m
[31m-        shadow.innerHTML = `<slot name="input"></slot><slot name="list"></slot>`;[m
[31m-        setBasicAttributes.call(this);[m
[31m-[m
[31m-        this.originalList;[m
[31m-[m
[31m-        this.searchList();[m
[31m-        this.addEventListeners();[m
[31m-        this.forceValue();[m
[31m-    }[m
[31m-[m
[31m-    public disconnectedCallback(): void {[m
[31m-        this.abortController.abort();[m
[31m-    }[m
[31m-[m
[31m-    public toggleList(newValue: boolean = this.input?.getAttribute("aria-expanded") !== true.toString()): void {[m
[31m-        this.input?.setAttribute("aria-expanded", `${newValue}`);[m
[31m-        if (newValue) {[m
[31m-            this.listContainer?.showPopover();[m
[31m-        } else {[m
[31m-            this.listContainer?.hidePopover();[m
[31m-            this.unfocusAllItems();[m
[31m-        }[m
[31m-    }[m
[31m-[m
[31m-    public focusItem(item: HTMLElement): void {[m
[31m-        if (!item) return;[m
[31m-        this.unfocusAllItems();[m
[31m-        item.focus();[m
[31m-        item.setAttribute("aria-selected", "true");[m
[31m-    }[m
[31m-[m
[31m-    public selectItem(item: HTMLElement, grabFocus = true): void {[m
[31m-        // #region Set the value of the input element[m
[31m-        // If the item has a data-display attribute, use that as the value[m
[31m-        if (this.input && item.dataset.display) this.input.value = item.dataset.display;[m
[31m-        // Else If the element does not have any children or only has strong children, use the innerText as the value[m
[31m-        else if ([m
[31m-            this.input &&[m
[31m-            (item.children.length || Array.from(item.children).every((c) => c.nodeName === "STRONG"))[m
[31m-        )[m
[31m-            this.input.value = item.innerText;[m
[31m-        // Else If the element has a data-value attribute, use that as the value[m
[31m-        else if (this.input && item.dataset.value) this.input.value = item.dataset.value;[m
[31m-        // Else fallback to a empty string[m
[31m-        else if (this.input) this.input.value = "";[m
[31m-        // #endregion[m
[31m-[m
[31m-        if (item.dataset.value) this.dataset.value = item.dataset.value;[m
[31m-        if (grabFocus) this.input?.focus();[m
[31m-        this.toggleList(false);[m
[31m-        this.searchList(false, false);[m
[31m-        this.sendChangeEvent();[m
[31m-    }[m
[31m-[m
[31m-    public clearInput(grabFocus = true): void {[m
[31m-        if (this.input) this.input.value = "";[m
[31m-        if (this.input && grabFocus) this.input.focus();[m
[31m-        this.toggleList(false);[m
[31m-    }[m
[31m-[m
[31m-    public forceValue(): void {[m
[31m-        if (!this.shouldForceValue) return;[m
[31m-        if (this.dataset.value) return;[m
[31m-        if (!this.input?.value) return;[m
[31m-[m
[31m-        const bestMatch = this.list?.children[0] as HTMLElement;[m
[31m-        if (bestMatch) {[m
[31m-            this.selectItem(bestMatch, false);[m
[31m-        } else {[m
[31m-            this.clearInput(false); // Clear the input[m
[31m-            this.dataset.value = ""; // Clear the value[m
[31m-            this.sendChangeEvent(); // Send a change event[m
[31m-        }[m
[31m-    }[m
[31m-[m
[31m-    private addEventListeners(): void {[m
[31m-        // #region Add event listeners to the framework element[m
[31m-        this.addEventListener("focusout", handleBlur.bind(this), {[m
[31m-            signal: this.abortController.signal,[m
[31m-        });[m
[31m-        // #endregion[m
[31m-[m
[31m-        // #region Add event listeners to the input element[m
[31m-        this.input?.addEventListener("input", this.searchList.bind(this, true, true), {[m
[31m-            signal: this.abortController.signal,[m
[31m-        });[m
[31m-        this.input?.addEventListener("focus", this.toggleList.bind(this, true), {[m
[31m-            signal: this.abortController.signal,[m
[31m-        });[m
[31m-        this.input?.addEventListener("keydown", handleComboBoxKeyPress.bind(this), {[m
[31m-            signal: this.abortController.signal,[m
[31m-        });[m
[31m-        this.input?.addEventListener("keyup", handleKeyUp.bind(this), {[m
[31m-            signal: this.abortController.signal,[m
[31m-        });[m
[31m-        // #endregion[m
[31m-[m
[31m-        this.addEventListenersToListItems();[m
[31m-    }[m
[31m-[m
[31m-    private addEventListenersToListItems(): void {[m
[31m-        // #region Add event listeners to the list item elements[m
[31m-        const children = this.list?.children;[m
[31m-        if (!children) return;[m
[31m-        for (let i = 0; i < children.length; i++) {[m
[31m-            const child = children[i] as HTMLElement;[m
[31m-            child.addEventListener("keydown", handleListKeyPress.bind(this), {[m
[31m-                signal: this.abortController.signal,[m
[31m-            });[m
[31m-            child.addEventListener("keyup", handleKeyUp.bind(this), {[m
[31m-                signal: this.abortController.signal,[m
[31m-            });[m
[31m-            child.addEventListener("click", this.selectItem.bind(this, child, true), {[m
[31m-                signal: this.abortController.signal,[m
[31m-            });[m
[31m-        }[m
[31m-        // #endregion[m
[31m-    }[m
[31m-[m
[31m-    private searchList(openList = true, clearValue = true): void {[m
[31m-        if (!this.input) return;[m
[31m-[m
[31m-        // #region Clear the selected item[m
[31m-        if (clearValue) {[m
[31m-            this.dataset.value = "";[m
[31m-            this.sendChangeEvent();[m
[31m-        }[m
[31m-        // #endregion[m
[31m-[m
[31m-        // #region If the input is empty, show the original list and return[m
[31m-        if ((this.originalList && !this.input) || this.input?.value === "") {[m
[31m-            if (this.list) this.list.innerHTML = "";[m
[31m-            this.list?.append([m
[31m-                ...Array.from((this.originalList!.cloneNode(true) as HTMLElement).children)[m
[31m-                    .slice(0, this.limit)[m
[31m-                    .sort([m
[31m-                        (a, b) => Number((b as HTMLElement).dataset.weight) - Number((a as HTMLElement).dataset.weight)[m
[31m-                    )[m
[31m-            );[m
[31m-            this.addEventListenersToListItems();[m
[31m-            return;[m
[31m-        }[m
[31m-        // #endregion[m
[31m-[m
[31m-        // #region Sort the list based on the weight of the items if they have a weight and a score[m
[31m-        let searchedList = this.fuse.search(this.input.value).slice(0, this.limit);[m
[31m-        searchedList = searchedList[m
[31m-            .map((i) => ({[m
[31m-                item: i.item as HTMLElement,[m
[31m-                score: i.score ?? 1,[m
[31m-                weight: Number((i.item as HTMLElement).dataset.weight ?? 1),[m
[31m-                refIndex: i.refIndex,[m
[31m-            }))[m
[31m-            .sort((a, b) => a.score * (b.weight / a.weight) - b.score * (a.weight / b.weight))[m
[31m-            .map((i) => ({[m
[31m-                item: i.item,[m
[31m-                score: i.score,[m
[31m-                weight: i.weight,[m
[31m-                refIndex: i.refIndex,[m
[31m-            }));[m
[31m-[m
[31m-        const newList = searchedList.map((item: FuseResult<Element>) => item.item as HTMLElement);[m
[31m-[m
[31m-        // #endregion[m
[31m-[m
[31m-        // #region Clear the list and add the new items[m
[31m-        if (this.list) {[m
[31m-            this.list.innerHTML = "";[m
[31m-            this.list.append(...newList.map((item) => item.cloneNode(true) as HTMLElement));[m
[31m-        }[m
[31m-        // #endregion[m
[31m-[m
[31m-        // #region Highlight the search string in the list items (or nested childrens) text content[m
[31m-        const highlightTextContent = (node: Element) => {[m
[31m-            if ([m
[31m-                this.input &&[m
[31m-                node.nodeType === Node.TEXT_NODE &&[m
[31m-                node.textContent?.trim() !== "" &&[m
[31m-                node.textContent?.trim() !== "\n"[m
[31m-            ) {[m
[31m-                const text = node.textContent ?? "";[m
[31m-                const newNode = document.createElement("template");[m
[31m-                newNode.innerHTML = this.highlightText(text, this.input.value);[m
[31m-                node.replaceWith(newNode.content);[m
[31m-            } else {[m
[31m-                for (const childNode of node.childNodes) {[m
[31m-                    highlightTextContent(childNode as Element);[m
[31m-                }[m
[31m-            }[m
[31m-        };[m
[31m-[m
[31m-        for (const item of this.list?.children ?? []) {[m
[31m-            highlightTextContent(item);[m
[31m-        }[m
[31m-        // #endregion[m
[31m-[m
[31m-        this.addEventListenersToListItems();[m
[31m-        this.toggleList(openList);[m
[31m-    }[m
[31m-[m
[31m-    private highlightText(text: string, searchString: string): string {[m
[31m-        const escapedSearchString = searchString.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");[m
[31m-        const regex = new RegExp(`[${escapedSearchString}]+`, "gmi");[m
[31m-        const html = text.replace(regex, "<strong>$&</strong>");[m
[31m-[m
[31m-        const sanitizedHtml = html[m
[31m-            .replace(/&/g, "&amp;")[m
[31m-            .replace(/</g, "&lt;")[m
[31m-            .replace(/>/g, "&gt;")[m
[31m-            .replace(/&lt;strong&gt;(.*?)&lt;\/strong&gt;/g, "<strong>$1</strong>");[m
[31m-[m
[31m-        return sanitizedHtml;[m
[31m-    }[m
[31m-[m
[31m-    private unfocusAllItems(): void {[m
[31m-        for (const item of this.list?.querySelectorAll("[aria-selected]") ?? []) item.removeAttribute("aria-selected");[m
[31m-    }[m
[31m-[m
[31m-    private selectItemByValue(value: string | null, grabFocus = true): void {[m
[31m-        if (!value) {[m
[31m-            this.clearInput(false); // Clear the input[m
[31m-            this.dataset.value = ""; // Clear the value[m
[31m-            this.sendChangeEvent(); // Send a change event[m
[31m-            return;[m
[31m-        }[m
[31m-[m
[31m-        const item = this.list?.querySelector(`[data-value="${value}"]`) as HTMLElement;[m
[31m-        if (!item) return;[m
[31m-        this.selectItem(item, grabFocus);[m
[31m-    }[m
[31m-[m
[31m-    private sendChangeEvent(): void {[m
[31m-        if (this.dataset.value === this.lastValue) return;[m
[31m-        const event = new Event("change");[m
[31m-        this.dispatchEvent(event);[m
[31m-        this.lastValue = this.dataset.value;[m
[31m-    }[m
[31m-}[m
[31m-[m
[31m-customElements.define("combobox-framework", ComboboxFramework);[m
[32m+[m[32mimport Fuse, { type FuseResult } from 'fuse.js';[m[41m[m
[32m+[m[32mimport {[m[41m[m
[32m+[m[32m  handleBlur,[m[41m[m
[32m+[m[32m  handleComboBoxKeyPress,[m[41m[m
[32m+[m[32m  handleKeyUp,[m[41m[m
[32m+[m[32m  handleListKeyPress,[m[41m[m
[32m+[m[32m} from './handlers';[m[41m[m
[32m+[m[32mimport { setBasicAttributes } from './helpers';[m[41m[m
[32m+[m[41m[m
[32m+[m[32mexport default class ComboboxFramework extends HTMLElement {[m[41m[m
[32m+[m[32m  public isAltModifierPressed = false;[m[41m[m
[32m+[m[32m  public shouldForceValue = false;[m[41m[m
[32m+[m[32m  public lastValue: string | undefined = undefined;[m[41m[m
[32m+[m[32m  public limit: number = Number.POSITIVE_INFINITY;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  public get list(): HTMLElement | null {[m[41m[m
[32m+[m[32m    if (this._list) return this._list;[m[41m[m
[32m+[m[32m    this._list = this.querySelector('[slot="list"] [data-list]') as HTMLElement;[m[41m[m
[32m+[m[32m    if (!this._list)[m[41m[m
[32m+[m[32m      this._list = this.querySelector('[slot="list"]') as HTMLElement;[m[41m[m
[32m+[m[32m    if (!this._list) return null;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    this._originalList ??= this._list.cloneNode(true) as HTMLElement;[m[41m[m
[32m+[m[32m    return this._list;[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  public set list(value: HTMLElement | null) {[m[41m[m
[32m+[m[32m    this._list = value;[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  public get input(): HTMLInputElement | null {[m[41m[m
[32m+[m[32m    if (this._input) return this._input;[m[41m[m
[32m+[m[32m    const input = this.querySelector('[slot="input"]') as HTMLInputElement;[m[41m[m
[32m+[m[32m    if (!input) return null;[m[41m[m
[32m+[m[32m    this._input = input;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    return this._input;[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  public set input(value: HTMLInputElement | null) {[m[41m[m
[32m+[m[32m    this._input = value;[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  public get listContainer(): HTMLElement | null {[m[41m[m
[32m+[m[32m    if (this._listContainer) return this._listContainer;[m[41m[m
[32m+[m[32m    this._listContainer = this.querySelector('[slot="list"]') as HTMLElement;[m[41m[m
[32m+[m[32m    return this._listContainer;[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  public set listContainer(value: HTMLElement | null) {[m[41m[m
[32m+[m[32m    this._listContainer = value;[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  public get originalList(): HTMLElement | null {[m[41m[m
[32m+[m[32m    if (this._originalList) return this._originalList;[m[41m[m
[32m+[m[32m    this._originalList = this.list?.cloneNode(true) as HTMLElement;[m[41m[m
[32m+[m[32m    return this._originalList;[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  public set originalList(value: HTMLElement | null) {[m[41m[m
[32m+[m[32m    this._originalList = value;[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  private _list: HTMLElement | null = null;[m[41m[m
[32m+[m[32m  private _input: HTMLInputElement | null = null;[m[41m[m
[32m+[m[32m  private _listContainer: HTMLElement | null = null;[m[41m[m
[32m+[m[32m  private _originalList: HTMLElement | null = null;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  // #region Fuzzy search Fuse.js[m[41m[m
[32m+[m[32m  public get fuse(): Fuse<Element> {[m[41m[m
[32m+[m[32m    if (!this._fuse) this._fuse = this.initFuseObj();[m[41m[m
[32m+[m[32m    return this._fuse;[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  public _fuseOptions = {[m[41m[m
[32m+[m[32m    includeScore: true,[m[41m[m
[32m+[m[32m    keys: ['dataset.display', 'dataset.value', 'innerText'],[m[41m[m
[32m+[m[32m  };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  private _fuse: Fuse<Element> | null = null;[m[41m[m
[32m+[m[32m  // #endregion[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  private abortController = new AbortController();[m[41m[m
[32m+[m[32m  private initFuseObj = () => {[m[41m[m
[32m+[m[32m    if (!this.originalList) return new Fuse([], this._fuseOptions);[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    const elementArray = Array.from([m[41m[m
[32m+[m[32m      (this.originalList.cloneNode(true) as HTMLElement).children[m[41m[m
[32m+[m[32m    );[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    return new Fuse(Array.from(elementArray), this._fuseOptions);[m[41m[m
[32m+[m[32m  };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  constructor() {[m[41m[m
[32m+[m[32m    super();[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    this.abortController ??= new AbortController();[m[41m[m
[32m+[m[32m    this.attachShadow({ mode: 'open' });[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  static get observedAttributes(): string[] {[m[41m[m
[32m+[m[32m    return ['data-value', 'data-fuse-options', 'data-listbox', 'data-limit'];[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  public attributeChangedCallback([m[41m[m
[32m+[m[32m    name: string,[m[41m[m
[32m+[m[32m    oldValue: string,[m[41m[m
[32m+[m[32m    newValue: string[m[41m[m
[32m+[m[32m  ): void {[m[41m[m
[32m+[m[32m    if (oldValue === newValue) return;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    switch (name) {[m[41m[m
[32m+[m[32m      case 'data-value':[m[41m[m
[32m+[m[32m        this.selectItemByValue(newValue, false);[m[41m[m
[32m+[m[32m        break;[m[41m[m
[32m+[m[32m      case 'data-fuse-options':[m[41m[m
[32m+[m[32m        this._fuseOptions = JSON.parse(newValue);[m[41m[m
[32m+[m[32m        this._fuse = this.initFuseObj();[m[41m[m
[32m+[m[32m        this.searchList();[m[41m[m
[32m+[m[32m        break;[m[41m[m
[32m+[m[32m      case 'data-listbox':[m[41m[m
[32m+[m[32m        if (newValue.toLowerCase() === 'false') this.shouldForceValue = false;[m[41m[m
[32m+[m[32m        else this.shouldForceValue = !!newValue;[m[41m[m
[32m+[m[32m        break;[m[41m[m
[32m+[m[32m      case 'data-limit':[m[41m[m
[32m+[m[32m        this.limit = Number.parseInt(newValue);[m[41m[m
[32m+[m[32m        break;[m[41m[m
[32m+[m[32m    }[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  public connectedCallback(): void {[m[41m[m
[32m+[m[32m    const shadow = this.shadowRoot as ShadowRoot;[m[41m[m
[32m+[m[32m    shadow.innerHTML = `<slot name="input"></slot><slot name="list"></slot>`;[m[41m[m
[32m+[m[32m    setBasicAttributes.call(this);[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    this.originalList;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    this.searchList();[m[41m[m
[32m+[m[32m    this.addEventListeners();[m[41m[m
[32m+[m[32m    this.forceValue();[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  public disconnectedCallback(): void {[m[41m[m
[32m+[m[32m    this.abortController.abort();[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  public toggleList([m[41m[m
[32m+[m[32m    newValue: boolean = this.input?.getAttribute('aria-expanded') !==[m[41m[m
[32m+[m[32m      true.toString()[m[41m[m
[32m+[m[32m  ): void {[m[41m[m
[32m+[m[32m    this.input?.setAttribute('aria-expanded', `${newValue}`);[m[41m[m
[32m+[m[32m    if (newValue) {[m[41m[m
[32m+[m[32m      this.listContainer?.showPopover();[m[41m[m
[32m+[m[32m    } else {[m[41m[m
[32m+[m[32m      this.listContainer?.hidePopover();[m[41m[m
[32m+[m[32m      this.unfocusAllItems();[m[41m[m
[32m+[m[32m    }[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  public focusItem(item: HTMLElement): void {[m[41m[m
[32m+[m[32m    if (!item) return;[m[41m[m
[32m+[m[32m    this.unfocusAllItems();[m[41m[m
[32m+[m[32m    item.focus();[m[41m[m
[32m+[m[32m    item.setAttribute('aria-selected', 'true');[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  public selectItem(item: HTMLElement, grabFocus = true): void {[m[41m[m
[32m+[m[32m    // #region Set the value of the input element[m[41m[m
[32m+[m[32m    // If the item has a data-display attribute, use that as the value[m[41m[m
[32m+[m[32m    if (this.input && item.dataset.display)[m[41m[m
[32m+[m[32m      this.input.value = item.dataset.display;[m[41m[m
[32m+[m[32m    // Else If the element does not have any children or only has strong children, use the innerText as the value[m[41m[m
[32m+[m[32m    else if ([m[41m[m
[32m+[m[32m      this.input &&[m[41m[m
[32m+[m[32m      (item.children.length ||[m[41m[m
[32m+[m[32m        Array.from(item.children).every((c) => c.nodeName === 'STRONG'))[m[41m[m
[32m+[m[32m    )[m[41m[m
[32m+[m[32m      this.input.value = item.innerText;[m[41m[m
[32m+[m[32m    // Else If the element has a data-value attribute, use that as the value[m[41m[m
[32m+[m[32m    else if (this.input && item.dataset.value)[m[41m[m
[32m+[m[32m      this.input.value = item.dataset.value;[m[41m[m
[32m+[m[32m    // Else fallback to a empty string[m[41m[m
[32m+[m[32m    else if (this.input) this.input.value = '';[m[41m[m
[32m+[m[32m    // #endregion[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    if (item.dataset.value) this.dataset.value = item.dataset.value;[m[41m[m
[32m+[m[32m    if (grabFocus) this.input?.focus();[m[41m[m
[32m+[m[32m    this.toggleList(false);[m[41m[m
[32m+[m[32m    this.searchList(false, false);[m[41m[m
[32m+[m[32m    this.sendChangeEvent();[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  public clearInput(grabFocus = true): void {[m[41m[m
[32m+[m[32m    if (this.input) this.input.value = '';[m[41m[m
[32m+[m[32m    if (this.input && grabFocus) this.input.focus();[m[41m[m
[32m+[m[32m    this.toggleList(false);[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  public forceValue(): void {[m[41m[m
[32m+[m[32m    if (!this.shouldForceValue) return;[m[41m[m
[32m+[m[32m    if (this.dataset.value) return;[m[41m[m
[32m+[m[32m    if (!this.input?.value) return;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    const bestMatch = this.list?.children[0] as HTMLElement;[m[41m[m
[32m+[m[32m    if (bestMatch) {[m[41m[m
[32m+[m[32m      this.selectItem(bestMatch, false);[m[41m[m
[32m+[m[32m    } else {[m[41m[m
[32m+[m[32m      this.clearInput(false); // Clear the input[m[41m[m
[32m+[m[32m      this.dataset.value = ''; // Clear the value[m[41m[m
[32m+[m[32m      this.sendChangeEvent(); // Send a change event[m[41m[m
[32m+[m[32m    }[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  private addEventListeners(): void {[m[41m[m
[32m+[m[32m    // #region Add event listeners to the framework element[m[41m[m
[32m+[m[32m    this.addEventListener('focusout', handleBlur.bind(this), {[m[41m[m
[32m+[m[32m      signal: this.abortController.signal,[m[41m[m
[32m+[m[32m    });[m[41m[m
[32m+[m[32m    // #endregion[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    // #region Add event listeners to the input element[m[41m[m
[32m+[m[32m    this.input?.addEventListener([m[41m[m
[32m+[m[32m      'input',[m[41m[m
[32m+[m[32m      this.searchList.bind(this, true, true),[m[41m[m
[32m+[m[32m      {[m[41m[m
[32m+[m[32m        signal: this.abortController.signal,[m[41m[m
[32m+[m[32m      }[m[41m[m
[32m+[m[32m    );[m[41m[m
[32m+[m[32m    this.input?.addEventListener('focus', this.toggleList.bind(this, true), {[m[41m[m
[32m+[m[32m      signal: this.abortController.signal,[m[41m[m
[32m+[m[32m    });[m[41m[m
[32m+[m[32m    this.input?.addEventListener('keydown', handleComboBoxKeyPress.bind(this), {[m[41m[m
[32m+[m[32m      signal: this.abortController.signal,[m[41m[m
[32m+[m[32m    });[m[41m[m
[32m+[m[32m    this.input?.addEventListener('keyup', handleKeyUp.bind(this), {[m[41m[m
[32m+[m[32m      signal: this.abortController.signal,[m[41m[m
[32m+[m[32m    });[m[41m[m
[32m+[m[32m    // #endregion[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    this.addEventListenersToListItems();[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  private addEventListenersToListItems(): void {[m[41m[m
[32m+[m[32m    // #region Add event listeners to the list item elements[m[41m[m
[32m+[m[32m    const children = this.list?.children;[m[41m[m
[32m+[m[32m    if (!children) return;[m[41m[m
[32m+[m[32m    for (let i = 0; i < children.length; i++) {[m[41m[m
[32m+[m[32m      const child = children[i] as HTMLElement;[m[41m[m
[32m+[m[32m      child.addEventListener('keydown', handleListKeyPress.bind(this), {[m[41m[m
[32m+[m[32m        signal: this.abortController.signal,[m[41m[m
[32m+[m[32m      });[m[41m[m
[32m+[m[32m      child.addEventListener('keyup', handleKeyUp.bind(this), {[m[41m[m
[32m+[m[32m        signal: this.abortController.signal,[m[41m[m
[32m+[m[32m      });[m[41m[m
[32m+[m[32m      child.addEventListener('click', this.selectItem.bind(this, child, true), {[m[41m[m
[32m+[m[32m        signal: this.abortController.signal,[m[41m[m
[32m+[m[32m      });[m[41m[m
[32m+[m[32m    }[m[41m[m
[32m+[m[32m    // #endregion[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  private searchList(openList = true, clearValue = true): void {[m[41m[m
[32m+[m[32m    if (!this.input) return;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    // #region Clear the selected item[m[41m[m
[32m+[m[32m    if (clearValue) {[m[41m[m
[32m+[m[32m      this.dataset.value = '';[m[41m[m
[32m+[m[32m      this.sendChangeEvent();[m[41m[m
[32m+[m[32m    }[m[41m[m
[32m+[m[32m    // #endregion[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    // #region If the input is empty, show the original list and return[m[41m[m
[32m+[m[32m    if ((this.originalList && !this.input) || this.input?.value === '') {[m[41m[m
[32m+[m[32m      if (this.list) this.list.innerHTML = '';[m[41m[m
[32m+[m[32m      this.list?.append([m[41m[m
[32m+[m[32m        ...Array.from([m[41m[m
[32m+[m[32m          (this.originalList!.cloneNode(true) as HTMLElement).children[m[41m[m
[32m+[m[32m        )[m[41m[m
[32m+[m[32m          .slice(0, this.limit)[m[41m[m
[32m+[m[32m          .sort([m[41m[m
[32m+[m[32m            (a, b) =>[m[41m[m
[32m+[m[32m              Number((b as HTMLElement).dataset.weight) -[m[41m[m
[32m+[m[32m              Number((a as HTMLElement).dataset.weight)[m[41m[m
[32m+[m[32m          )[m[41m[m
[32m+[m[32m      );[m[41m[m
[32m+[m[32m      this.addEventListenersToListItems();[m[41m[m
[32m+[m[32m      return;[m[41m[m
[32m+[m[32m    }[m[41m[m
[32m+[m[32m    // #endregion[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    // #region Sort the list based on the weight of the items if they have a weight and a score[m[41m[m
[32m+[m[32m    let searchedList = this.fuse.search(this.input.value).slice(0, this.limit);[m[41m[m
[32m+[m[32m    searchedList = searchedList[m[41m[m
[32m+[m[32m      .map((i) => ({[m[41m[m
[32m+[m[32m        item: i.item as HTMLElement,[m[41m[m
[32m+[m[32m        score: i.score ?? 1,[m[41m[m
[32m+[m[32m        weight: Number((i.item as HTMLElement).dataset.weight ?? 1),[m[41m[m
[32m+[m[32m        refIndex: i.refIndex,[m[41m[m
[32m+[m[32m      }))[m[41m[m
[32m+[m[32m      .sort([m[41m[m
[32m+[m[32m        (a, b) =>[m[41m[m
[32m+[m[32m          a.score * (b.weight / a.weight) - b.score * (a.weight / b.weight)[m[41m[m
[32m+[m[32m      )[m[41m[m
[32m+[m[32m      .map((i) => ({[m[41m[m
[32m+[m[32m        item: i.item,[m[41m[m
[32m+[m[32m        score: i.score,[m[41m[m
[32m+[m[32m        weight: i.weight,[m[41m[m
[32m+[m[32m        refIndex: i.refIndex,[m[41m[m
[32m+[m[32m      }));[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    const newList = searchedList.map([m[41m[m
[32m+[m[32m      (item: FuseResult<Element>) => item.item as HTMLElement[m[41m[m
[32m+[m[32m    );[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    // #endregion[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    // #region Clear the list and add the new items[m[41m[m
[32m+[m[32m    if (this.list) {[m[41m[m
[32m+[m[32m      this.list.innerHTML = '';[m[41m[m
[32m+[m[32m      this.list.append([m[41m[m
[32m+[m[32m        ...newList.map((item) => item.cloneNode(true) as HTMLElement)[m[41m[m
[32m+[m[32m      );[m[41m[m
[32m+[m[32m    }[m[41m[m
[32m+[m[32m    // #endregion[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    // #region Highlight the search string in the list items (or nested childrens) text content[m[41m[m
[32m+[m[32m    const highlightTextContent = (node: Element) => {[m[41m[m
[32m+[m[32m      if ([m[41m[m
[32m+[m[32m        this.input &&[m[41m[m
[32m+[m[32m        node.nodeType === Node.TEXT_NODE &&[m[41m[m
[32m+[m[32m        node.textContent?.trim() !== '' &&[m[41m[m
[32m+[m[32m        node.textContent?.trim() !== '\n'[m[41m[m
[32m+[m[32m      ) {[m[41m[m
[32m+[m[32m        const text = node.textContent ?? '';[m[41m[m
[32m+[m[32m        const newNode = document.createElement('template');[m[41m[m
[32m+[m[32m        newNode.innerHTML = this.highlightText(text, this.input.value);[m[41m[m
[32m+[m[32m        node.replaceWith(newNode.content);[m[41m[m
[32m+[m[32m      } else {[m[41m[m
[32m+[m[32m        for (const childNode of node.childNodes) {[m[41m[m
[32m+[m[32m          highlightTextContent(childNode as Element);[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[32m      }[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    for (const item of this.list?.children ?? []) {[m[41m[m
[32m+[m[32m      highlightTextContent(item);[m[41m[m
[32m+[m[32m    }[m[41m[m
[32m+[m[32m    // #endregion[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    this.addEventListenersToListItems();[m[41m[m
[32m+[m[32m    this.toggleList(openList);[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  private highlightText(text: string, searchString: string): string {[m[41m[m
[32m+[m[32m    const escapedSearchString = searchString.replace([m[41m[m
[32m+[m[32m      /[.*+?^${}()|[\]\\]/g,[m[41m[m
[32m+[m[32m      '\\$&'[m[41m[m
[32m+[m[32m    );[m[41m[m
[32m+[m[32m    const regex = new RegExp(`[${escapedSearchString}]+`, 'gmi');[m[41m[m
[32m+[m[32m    const html = text.replace(regex, '<strong>$&</strong>');[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    const sanitizedHtml = html[m[41m[m
[32m+[m[32m      .replace(/&/g, '&amp;')[m[41m[m
[32m+[m[32m      .replace(/</g, '&lt;')[m[41m[m
[32m+[m[32m      .replace(/>/g, '&gt;')[m[41m[m
[32m+[m[32m      .replace(/&lt;strong&gt;(.*?)&lt;\/strong&gt;/g, '<strong>$1</strong>');[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    return sanitizedHtml;[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  private unfocusAllItems(): void {[m[41m[m
[32m+[m[32m    for (const item of this.list?.querySelectorAll('[aria-selected]') ?? [])[m[41m[m
[32m+[m[32m      item.removeAttribute('aria-selected');[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  private selectItemByValue(value: string | null, grabFocus = true): void {[m[41m[m
[32m+[m[32m    if (!value) {[m[41m[m
[32m+[m[32m      this.clearInput(false); // Clear the input[m[41m[m
[32m+[m[32m      this.dataset.value = ''; // Clear the value[m[41m[m
[32m+[m[32m      this.sendChangeEvent(); // Send a change event[m[41m[m
[32m+[m[32m      return;[m[41m[m
[32m+[m[32m    }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    const item = this.list?.querySelector([m[41m[m
[32m+[m[32m      `[data-value="${value}"]`[m[41m[m
[32m+[m[32m    ) as HTMLElement;[m[41m[m
[32m+[m[32m    if (!item) return;[m[41m[m
[32m+[m[32m    this.selectItem(item, grabFocus);[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  private sendChangeEvent(): void {[m[41m[m
[32m+[m[32m    if (this.dataset.value === this.lastValue) return;[m[41m[m
[32m+[m[32m    const event = new Event('change');[m[41m[m
[32m+[m[32m    this.dispatchEvent(event);[m[41m[m
[32m+[m[32m    this.lastValue = this.dataset.value;[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mcustomElements.define('combobox-framework', ComboboxFramework);[m[41m[m
[1mdiff --git a/src/handlers.ts b/src/handlers.ts[m
[1mindex 31c6d0d..856cf95 100644[m
[1m--- a/src/handlers.ts[m
[1m+++ b/src/handlers.ts[m
[36m@@ -1,113 +1,128 @@[m
[31m-import type ComboboxFramework from "./combobox-framework";[m
[31m-import { KeyCode } from "./helpers";[m
[31m-[m
[31m-export function handleComboBoxKeyPress(this: ComboboxFramework, event: KeyboardEvent): void {[m
[31m-    const isInputExpanded = () => this.input?.getAttribute("aria-expanded") === "true";[m
[31m-[m
[31m-    // #region Handle the key press[m
[31m-    switch (event.key) {[m
[31m-        case KeyCode.ArrowDown:[m
[31m-            // If the popup is available, moves focus into the popup: If the autocomplete behavior automatically selected a suggestion before Down Arrow was pressed, focus is placed on the suggestion following the automatically selected suggestion. Otherwise, places focus on the first focusable element in the popup.[m
[31m-            if (!isInputExpanded()) {[m
[31m-                this.toggleList(true);[m
[31m-                if (this.list && !this.isAltModifierPressed)[m
[31m-                    this.focusItem(this.list?.children[0] as HTMLElement);[m
[31m-            } else if (this.list?.children) {[m
[31m-                this.focusItem(this.list?.children[0] as HTMLElement);[m
[31m-            }[m
[31m-            event.preventDefault(); // prevent scrolling[m
[31m-            break;[m
[31m-        case KeyCode.ArrowUp:[m
[31m-            // (Optional): If the popup is available, places focus on the last focusable element in the popup.[m
[31m-            if (isInputExpanded() && this.list) {[m
[31m-                this.focusItem(this.list?.children[this.list.children.length - 1] as HTMLElement);[m
[31m-            }[m
[31m-            event.preventDefault(); // prevent scrolling[m
[31m-            break;[m
[31m-        case KeyCode.Escape:[m
[31m-            // Dismisses the popup if it is visible. Optionally, if the popup is hidden before Escape is pressed, clears the combobox.[m
[31m-            if (isInputExpanded() && this.list) {[m
[31m-                this.toggleList(false);[m
[31m-            } else if (this.input) {[m
[31m-                this.input.value = "";[m
[31m-            }[m
[31m-            this.input?.focus();[m
[31m-            break;[m
[31m-        case KeyCode.Enter:[m
[31m-            // Autocompletes the combobox with the first suggestion[m
[31m-            if (isInputExpanded() && this.list) {[m
[31m-                this.selectItem(this.list.children[0] as HTMLElement);[m
[31m-            }[m
[31m-            break;[m
[31m-        case KeyCode.Alt:[m
[31m-            this.isAltModifierPressed = true;[m
[31m-            break;[m
[31m-    }[m
[31m-    // #endregion[m
[31m-}[m
[31m-[m
[31m-export function handleListKeyPress(this: ComboboxFramework, event: KeyboardEvent): void {[m
[31m-    const li = event.target as HTMLElement;[m
[31m-    switch (event.key) {[m
[31m-        case KeyCode.Enter:[m
[31m-            // Select the item and close the list[m
[31m-            this.selectItem(li);[m
[31m-            break;[m
[31m-        case KeyCode.Escape:[m
[31m-            // Close the list and focus the input[m
[31m-            this.clearInput();[m
[31m-            break;[m
[31m-        case KeyCode.ArrowDown: {[m
[31m-            // Move focus to the next item in the list[m
[31m-            const nextLi = li.nextElementSibling as HTMLElement;[m
[31m-            if (nextLi) this.focusItem(nextLi);[m
[31m-            else if (this.list?.children) this.focusItem(this.list.children[0] as HTMLElement);[m
[31m-            event.preventDefault(); // prevent scrolling[m
[31m-            break;[m
[31m-        }[m
[31m-        case KeyCode.ArrowUp: {[m
[31m-            // If alt is pressed, close the list and focus the input[m
[31m-            if (this.isAltModifierPressed) {[m
[31m-                this.input?.focus();[m
[31m-                this.toggleList(false);[m
[31m-                event.preventDefault(); // prevent scrolling[m
[31m-                break;[m
[31m-            }[m
[31m-[m
[31m-            // Move focus to the previous item in the list[m
[31m-            const previousLi = li.previousElementSibling as HTMLElement;[m
[31m-            if (previousLi) this.focusItem(previousLi);[m
[31m-            else if (this.list)[m
[31m-                this.focusItem(this.list.children[this.list.children.length - 1] as HTMLElement);[m
[31m-            event.preventDefault(); // prevent scrolling[m
[31m-            break;[m
[31m-        }[m
[31m-        case KeyCode.Alt:[m
[31m-            this.isAltModifierPressed = true;[m
[31m-            break;[m
[31m-        case KeyCode.Home:[m
[31m-        case KeyCode.End:[m
[31m-        case KeyCode.Backspace:[m
[31m-        case KeyCode.Delete:[m
[31m-        case KeyCode.ArrowRight:[m
[31m-        case KeyCode.ArrowLeft:[m
[31m-        default:[m
[31m-            // Move focus back to the input[m
[31m-            this.input?.focus();[m
[31m-            break;[m
[31m-    }[m
[31m-}[m
[31m-[m
[31m-export function handleKeyUp(this: ComboboxFramework, event: KeyboardEvent): void {[m
[31m-    if (event.key === "Alt") this.isAltModifierPressed = false;[m
[31m-}[m
[31m-[m
[31m-export function handleBlur(this: ComboboxFramework): void {[m
[31m-    // Set a timeout to force the focus event on the list item to fire before the foucsout event on the input element[m
[31m-    setTimeout(() => {[m
[31m-        if (this.querySelector(":focus")) return;[m
[31m-[m
[31m-        this.forceValue();[m
[31m-        this.toggleList(false);[m
[31m-    }, 0);[m
[31m-}[m
[32m+[m[32mimport type ComboboxFramework from './combobox-framework';[m[41m[m
[32m+[m[32mimport { KeyCode } from './helpers';[m[41m[m
[32m+[m[41m[m
[32m+[m[32mexport function handleComboBoxKeyPress([m[41m[m
[32m+[m[32m  this: ComboboxFramework,[m[41m[m
[32m+[m[32m  event: KeyboardEvent[m[41m[m
[32m+[m[32m): void {[m[41m[m
[32m+[m[32m  const isInputExpanded = () =>[m[41m[m
[32m+[m[32m    this.input?.getAttribute('aria-expanded') === 'true';[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  // #region Handle the key press[m[41m[m
[32m+[m[32m  switch (event.key) {[m[41m[m
[32m+[m[32m    case KeyCode.ArrowDown:[m[41m[m
[32m+[m[32m      // If the popup is available, moves focus into the popup: If the autocomplete behavior automatically selected a suggestion before Down Arrow was pressed, focus is placed on the suggestion following the automatically selected suggestion. Otherwise, places focus on the first focusable element in the popup.[m[41m[m
[32m+[m[32m      if (!isInputExpanded()) {[m[41m[m
[32m+[m[32m        this.toggleList(true);[m[41m[m
[32m+[m[32m        if (this.list && !this.isAltModifierPressed)[m[41m[m
[32m+[m[32m          this.focusItem(this.list?.children[0] as HTMLElement);[m[41m[m
[32m+[m[32m      } else if (this.list?.children) {[m[41m[m
[32m+[m[32m        this.focusItem(this.list?.children[0] as HTMLElement);[m[41m[m
[32m+[m[32m      }[m[41m[m
[32m+[m[32m      event.preventDefault(); // prevent scrolling[m[41m[m
[32m+[m[32m      break;[m[41m[m
[32m+[m[32m    case KeyCode.ArrowUp:[m[41m[m
[32m+[m[32m      // (Optional): If the popup is available, places focus on the last focusable element in the popup.[m[41m[m
[32m+[m[32m      if (isInputExpanded() && this.list) {[m[41m[m
[32m+[m[32m        this.focusItem([m[41m[m
[32m+[m[32m          this.list?.children[this.list.children.length - 1] as HTMLElement[m[41m[m
[32m+[m[32m        );[m[41m[m
[32m+[m[32m      }[m[41m[m
[32m+[m[32m      event.preventDefault(); // prevent scrolling[m[41m[m
[32m+[m[32m      break;[m[41m[m
[32m+[m[32m    case KeyCode.Escape:[m[41m[m
[32m+[m[32m      // Dismisses the popup if it is visible. Optionally, if the popup is hidden before Escape is pressed, clears the combobox.[m[41m[m
[32m+[m[32m      if (isInputExpanded() && this.list) {[m[41m[m
[32m+[m[32m        this.toggleList(false);[m[41m[m
[32m+[m[32m      } else if (this.input) {[m[41m[m
[32m+[m[32m        this.input.value = '';[m[41m[m
[32m+[m[32m      }[m[41m[m
[32m+[m[32m      this.input?.focus();[m[41m[m
[32m+[m[32m      break;[m[41m[m
[32m+[m[32m    case KeyCode.Enter:[m[41m[m
[32m+[m[32m      // Autocompletes the combobox with the first suggestion[m[41m[m
[32m+[m[32m      if (isInputExpanded() && this.list) {[m[41m[m
[32m+[m[32m        this.selectItem(this.list.children[0] as HTMLElement);[m[41m[m
[32m+[m[32m      }[m[41m[m
[32m+[m[32m      break;[m[41m[m
[32m+[m[32m    case KeyCode.Alt:[m[41m[m
[32m+[m[32m      this.isAltModifierPressed = true;[m[41m[m
[32m+[m[32m      break;[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[32m  // #endregion[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mexport function handleListKeyPress([m[41m[m
[32m+[m[32m  this: ComboboxFramework,[m[41m[m
[32m+[m[32m  event: KeyboardEvent[m[41m[m
[32m+[m[32m): void {[m[41m[m
[32m+[m[32m  const li = event.target as HTMLElement;[m[41m[m
[32m+[m[32m  switch (event.key) {[m[41m[m
[32m+[m[32m    case KeyCode.Enter:[m[41m[m
[32m+[m[32m      // Select the item and close the list[m[41m[m
[32m+[m[32m      this.selectItem(li);[m[41m[m
[32m+[m[32m      break;[m[41m[m
[32m+[m[32m    case KeyCode.Escape:[m[41m[m
[32m+[m[32m      // Close the list and focus the input[m[41m[m
[32m+[m[32m      this.clearInput();[m[41m[m
[32m+[m[32m      break;[m[41m[m
[32m+[m[32m    case KeyCode.ArrowDown: {[m[41m[m
[32m+[m[32m      // Move focus to the next item in the list[m[41m[m
[32m+[m[32m      const nextLi = li.nextElementSibling as HTMLElement;[m[41m[m
[32m+[m[32m      if (nextLi) this.focusItem(nextLi);[m[41m[m
[32m+[m[32m      else if (this.list?.children)[m[41m[m
[32m+[m[32m        this.focusItem(this.list.children[0] as HTMLElement);[m[41m[m
[32m+[m[32m      event.preventDefault(); // prevent scrolling[m[41m[m
[32m+[m[32m      break;[m[41m[m
[32m+[m[32m    }[m[41m[m
[32m+[m[32m    case KeyCode.ArrowUp: {[m[41m[m
[32m+[m[32m      // If alt is pressed, close the list and focus the input[m[41m[m
[32m+[m[32m      if (this.isAltModifierPressed) {[m[41m[m
[32m+[m[32m        this.input?.focus();[m[41m[m
[32m+[m[32m        this.toggleList(false);[m[41m[m
[32m+[m[32m        event.preventDefault(); // prevent scrolling[m[41m[m
[32m+[m[32m        break;[m[41m[m
[32m+[m[32m      }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m      // Move focus to the previous item in the list[m[41m[m
[32m+[m[32m      const previousLi = li.previousElementSibling as HTMLElement;[m[41m[m
[32m+[m[32m      if (previousLi) this.focusItem(previousLi);[m[41m[m
[32m+[m[32m      else if (this.list)[m[41m[m
[32m+[m[32m        this.focusItem([m[41m[m
[32m+[m[32m          this.list.children[this.list.children.length - 1] as HTMLElement[m[41m[m
[32m+[m[32m        );[m[41m[m
[32m+[m[32m      event.preventDefault(); // prevent scrolling[m[41m[m
[32m+[m[32m      break;[m[41m[m
[32m+[m[32m    }[m[41m[m
[32m+[m[32m    case KeyCode.Alt:[m[41m[m
[32m+[m[32m      this.isAltModifierPressed = true;[m[41m[m
[32m+[m[32m      break;[m[41m[m
[32m+[m[32m    case KeyCode.Home:[m[41m[m
[32m+[m[32m    case KeyCode.End:[m[41m[m
[32m+[m[32m    case KeyCode.Backspace:[m[41m[m
[32m+[m[32m    case KeyCode.Delete:[m[41m[m
[32m+[m[32m    case KeyCode.ArrowRight:[m[41m[m
[32m+[m[32m    case KeyCode.ArrowLeft:[m[41m[m
[32m+[m[32m    default:[m[41m[m
[32m+[m[32m      // Move focus back to the input[m[41m[m
[32m+[m[32m      this.input?.focus();[m[41m[m
[32m+[m[32m      break;[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mexport function handleKeyUp([m[41m[m
[32m+[m[32m  this: ComboboxFramework,[m[41m[m
[32m+[m[32m  event: KeyboardEvent[m[41m[m
[32m+[m[32m): void {[m[41m[m
[32m+[m[32m  if (event.key === 'Alt') this.isAltModifierPressed = false;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mexport function handleBlur(this: ComboboxFramework): void {[m[41m[m
[32m+[m[32m  // Set a timeout to force the focus event on the list item to fire before the foucsout event on the input element[m[41m[m
[32m+[m[32m  setTimeout(() => {[m[41m[m
[32m+[m[32m    if (this.querySelector(':focus')) return;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    this.forceValue();[m[41m[m
[32m+[m[32m    this.toggleList(false);[m[41m[m
[32m+[m[32m  }, 0);[m[41m[m
[32m+[m[32m}[m[41m[m
[1mdiff --git a/src/helpers.ts b/src/helpers.ts[m
[1mindex f1ffa0a..1ac5021 100644[m
[1m--- a/src/helpers.ts[m
[1m+++ b/src/helpers.ts[m
[36m@@ -1,62 +1,66 @@[m
[31m-import type ComboboxFramework from "./combobox-framework";[m
[31m-[m
[31m-export function setBasicAttributes(this: ComboboxFramework): void {[m
[31m-    // #region Set the ids of the input and list elements if they are not set[m
[31m-    if (this.input)[m
[31m-        this.input.id = this.input.id.length !== 0 ? this.input.id : `input-${crypto.randomUUID()}`;[m
[31m-    if (this.list)[m
[31m-        this.list.id = this.list.id.length !== 0 ? this.list.id : `list-${crypto.randomUUID()}`;[m
[31m-    // #endregion[m
[31m-[m
[31m-    // #region Basic attributes for the input element[m
[31m-    if (this.input) {[m
[31m-        this.input.setAttribute("role", "combobox");[m
[31m-        if (this.list) this.input.setAttribute("aria-controls", this.list.id);[m
[31m-        this.input.setAttribute("aria-expanded", "false");[m
[31m-        this.input.setAttribute("aria-autocomplete", "list"); // Maybe change combobox to both?[m
[31m-        this.input.setAttribute("autocomplete", "off");[m
[31m-    }[m
[31m-    // #endregion[m
[31m-[m
[31m-    //#region set basic attributes for list element container[m
[31m-    this.listContainer?.setAttribute("popover", "manual");[m
[31m-    //#endregion[m
[31m-[m
[31m-    // #region Basic attributes for the list element[m
[31m-    if (this.list) {[m
[31m-        this.list.setAttribute("role", "listbox");[m
[31m-        this.list.setAttribute("aria-multiselectable", "false");[m
[31m-        this.list.tabIndex = -1;[m
[31m-    }[m
[31m-    // #endregion[m
[31m-[m
[31m-    // #region  Basic attributes for the children of the list element[m
[31m-    const children = this.list?.children ?? [];[m
[31m-    for (let i = 0; i < children.length; i++) {[m
[31m-        const child = children[i] as HTMLElement;[m
[31m-        child.setAttribute("role", "option");[m
[31m-        child.setAttribute("aria-selected", "false");[m
[31m-        child.setAttribute("tabindex", "-1");[m
[31m-        child.tabIndex = -1;[m
[31m-    }[m
[31m-    // #endregion[m
[31m-[m
[31m-    // #region Initialize the list and originalList properties[m
[31m-    this.list = null;[m
[31m-    this.originalList = null;[m
[31m-    // #endregion[m
[31m-}[m
[31m-[m
[31m-export enum KeyCode {[m
[31m-    ArrowDown = "ArrowDown",[m
[31m-    ArrowUp = "ArrowUp",[m
[31m-    ArrowRight = "ArrowRight",[m
[31m-    ArrowLeft = "ArrowLeft",[m
[31m-    Home = "Home",[m
[31m-    End = "End",[m
[31m-    Backspace = "Backspace",[m
[31m-    Delete = "Delete",[m
[31m-    Escape = "Escape",[m
[31m-    Enter = "Enter",[m
[31m-    Alt = "Alt",[m
[31m-}[m
[32m+[m[32mimport type ComboboxFramework from './combobox-framework';[m[41m[m
[32m+[m[41m[m
[32m+[m[32mexport function setBasicAttributes(this: ComboboxFramework): void {[m[41m[m
[32m+[m[32m  // #region Set the ids of the input and list elements if they are not set[m[41m[m
[32m+[m[32m  if (this.input)[m[41m[m
[32m+[m[32m    this.input.id =[m[41m[m
[32m+[m[32m      this.input.id.length !== 0[m[41m[m
[32m+[m[32m        ? this.input.id[m[41m[m
[32m+[m[32m        : `input-${crypto.randomUUID()}`;[m[41m[m
[32m+[m[32m  if (this.list)[m[41m[m
[32m+[m[32m    this.list.id =[m[41m[m
[32m+[m[32m      this.list.id.length !== 0 ? this.list.id : `list-${crypto.randomUUID()}`;[m[41m[m
[32m+[m[32m  // #endregion[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  // #region Basic attributes for the input element[m[41m[m
[32m+[m[32m  if (this.input) {[m[41m[m
[32m+[m[32m    this.input.setAttribute('role', 'combobox');[m[41m[m
[32m+[m[32m    if (this.list) this.input.setAttribute('aria-controls', this.list.id);[m[41m[m
[32m+[m[32m    this.input.setAttribute('aria-expanded', 'false');[m[41m[m
[32m+[m[32m    this.input.setAttribute('aria-autocomplete', 'list'); // Maybe change combobox to both?[m[41m[m
[32m+[m[32m    this.input.setAttribute('autocomplete', 'off');[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[32m  // #endregion[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  //#region set basic attributes for list element container[m[41m[m
[32m+[m[32m  this.listContainer?.setAttribute('popover', 'manual');[m[41m[m
[32m+[m[32m  //#endregion[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  // #region Basic attributes for the list element[m[41m[m
[32m+[m[32m  if (this.list) {[m[41m[m
[32m+[m[32m    this.list.setAttribute('role', 'listbox');[m[41m[m
[32m+[m[32m    this.list.setAttribute('aria-multiselectable', 'false');[m[41m[m
[32m+[m[32m    this.list.tabIndex = -1;[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[32m  // #endregion[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  // #region  Basic attributes for the children of the list element[m[41m[m
[32m+[m[32m  const children = this.list?.children ?? [];[m[41m[m
[32m+[m[32m  for (let i = 0; i < children.length; i++) {[m[41m[m
[32m+[m[32m    const child = children[i] as HTMLElement;[m[41m[m
[32m+[m[32m    child.setAttribute('role', 'option');[m[41m[m
[32m+[m[32m    child.setAttribute('aria-selected', 'false');[m[41m[m
[32m+[m[32m    child.setAttribute('tabindex', '-1');[m[41m[m
[32m+[m[32m    child.tabIndex = -1;[m[41m[m
[32m+[m[32m  }[m[41m[m
[32m+[m[32m  // #endregion[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  // #region Initialize the list and originalList properties[m[41m[m
[32m+[m[32m  this.list = null;[m[41m[m
[32m+[m[32m  this.originalList = null;[m[41m[m
[32m+[m[32m  // #endregion[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32mexport enum KeyCode {[m[41m[m
[32m+[m[32m  ArrowDown = 'ArrowDown',[m[41m[m
[32m+[m[32m  ArrowUp = 'ArrowUp',[m[41m[m
[32m+[m[32m  ArrowRight = 'ArrowRight',[m[41m[m
[32m+[m[32m  ArrowLeft = 'ArrowLeft',[m[41m[m
[32m+[m[32m  Home = 'Home',[m[41m[m
[32m+[m[32m  End = 'End',[m[41m[m
[32m+[m[32m  Backspace = 'Backspace',[m[41m[m
[32m+[m[32m  Delete = 'Delete',[m[41m[m
[32m+[m[32m  Escape = 'Escape',[m[41m[m
[32m+[m[32m  Enter = 'Enter',[m[41m[m
[32m+[m[32m  Alt = 'Alt',[m[41m[m
[32m+[m[32m}[m[41m[m
